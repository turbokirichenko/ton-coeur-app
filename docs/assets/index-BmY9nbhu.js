var Fi=Object.defineProperty;var jn=t=>{throw TypeError(t)};var Ui=(t,e,r)=>e in t?Fi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ee=(t,e,r)=>Ui(t,typeof e!="symbol"?e+"":e,r),Hi=(t,e,r)=>e.has(t)||jn("Cannot "+r);var rt=(t,e,r)=>(Hi(t,e,"read from private field"),r?r.call(t):e.get(t)),wt=(t,e,r)=>e.has(t)?jn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();function Gi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sr={},zt={},Rn={},Ln;function Vi(){return Ln||(Ln=1,function(){var t={},e="";try{e=location.hash.toString()}catch{}var r=g(e),i=T("initParams");if(i)for(var n in i)typeof r[n]>"u"&&(r[n]=i[n]);P("initParams",r);var s=!1,u;try{if(s=window.parent!=null&&window!=window.parent,s){window.addEventListener("message",function(v){if(v.source===window.parent){try{var y=JSON.parse(v.data)}catch{return}if(!(!y||!y.eventType))if(y.eventType=="set_custom_style")v.origin==="https://web.telegram.org"&&(u.innerHTML=y.eventData);else if(y.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else f(y.eventType,y.eventData)}}),u=document.createElement("style"),document.head.appendChild(u);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function p(v){try{return v=v.replace(/\+/g,"%20"),decodeURIComponent(v)}catch{return v}}function g(v){v=v.replace(/^#/,"");var y={};if(!v.length)return y;if(v.indexOf("=")<0&&v.indexOf("?")<0)return y._path=p(v),y;var E=v.indexOf("?");if(E>=0){var I=v.substr(0,E);y._path=p(I),v=v.substr(E+1)}var N=c(v);for(var Q in N)y[Q]=N[Q];return y}function c(v){var y={};if(!v.length)return y;var E=v.split("&"),I,N,Q,R;for(I=0;I<E.length;I++)N=E[I].split("="),Q=p(N[0]),R=N[1]==null?null:p(N[1]),y[Q]=R;return y}function h(v,y){var E=v.indexOf("#");if(E<0)return v+"#"+y;var I=v.substr(E+1);return I.indexOf("=")>=0||I.indexOf("?")>=0?v+"&"+y:I.length>0?v+"?"+y:v+y}function m(v,y,E){if(y||(y=function(){}),E===void 0&&(E=""),console.log("[Telegram.WebView] > postEvent",v,E),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(v,JSON.stringify(E)),y();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:v,eventData:E})),y();else if(s)try{var I="https://web.telegram.org";I="*",window.parent.postMessage(JSON.stringify({eventType:v,eventData:E}),I),y()}catch(N){y(N)}else y({notAvailable:!0})}function f(v,y){console.log("[Telegram.WebView] < receiveEvent",v,y),b(v,function(E){E(v,y)})}function b(v,y){var E=t[v];if(!(E===void 0||!E.length))for(var I=0;I<E.length;I++)try{y(E[I])}catch{}}function w(v,y){t[v]===void 0&&(t[v]=[]);var E=t[v].indexOf(y);E===-1&&t[v].push(y)}function k(v,y){if(t[v]!==void 0){var E=t[v].indexOf(y);E!==-1&&t[v].splice(E,1)}}function P(v,y){try{return window.sessionStorage.setItem("__telegram__"+v,JSON.stringify(y)),!0}catch{}return!1}function T(v){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+v))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:r,isIframe:s,onEvent:w,offEvent:k,postEvent:m,receiveEvent:f,callEventCallbacks:b},window.Telegram.Utils={urlSafeDecode:p,urlParseQueryString:c,urlParseHashParams:g,urlAppendHashParams:h,sessionStorageSet:P,sessionStorageGet:T},window.TelegramGameProxy_receiveEvent=f,window.TelegramGameProxy={receiveEvent:f}}(),function(){var t=window.Telegram.Utils,e=window.Telegram.WebView,r=e.initParams,i=e.isIframe,n={},s="",u={},p={},g="light",c="6.0",h="unknown",m=!0,f=!1,b=!1,w="bg_color",k="bg_color",P=null;if(r.tgWebAppData&&r.tgWebAppData.length){s=r.tgWebAppData,u=t.urlParseQueryString(s);for(var T in u){var v=u[T];try{(v.substr(0,1)=="{"&&v.substr(-1)=="}"||v.substr(0,1)=="["&&v.substr(-1)=="]")&&(u[T]=JSON.parse(v))}catch{}}}var y=t.sessionStorageGet("themeParams");if(r.tgWebAppThemeParams&&r.tgWebAppThemeParams.length){var E=r.tgWebAppThemeParams;try{var I=JSON.parse(E);I&&Mr(I)}catch{}}y&&Mr(y);var N=t.sessionStorageGet("defaultColors");if(r.tgWebAppDefaultColors&&r.tgWebAppDefaultColors.length){var Q=r.tgWebAppDefaultColors;try{var R=JSON.parse(Q);R&&yn(R)}catch{}}N&&yn(N),r.tgWebAppVersion&&(c=r.tgWebAppVersion),r.tgWebAppPlatform&&(h=r.tgWebAppPlatform);var $=t.sessionStorageGet("isFullscreen");r.tgWebAppFullscreen&&ar(!0),$&&ar($=="yes");var le=t.sessionStorageGet("isOrientationLocked");le&&mn(le=="yes");function re(o,a){a.theme_params&&(Mr(a.theme_params),window.Telegram.WebApp.MainButton.setParams({}),window.Telegram.WebApp.SecondaryButton.setParams({}),Lr(),Fr(),Ur(),L("themeChanged"))}var ce=window.innerHeight;function ct(o,a){a.height&&(window.removeEventListener("resize",je),qr(a))}function je(o){ce!=window.innerHeight&&(ce=window.innerHeight,L("viewportChanged",{isStateStable:!0}))}function Re(o,a){a&&Xo(a)}function Ze(o,a){a&&Zo(a)}function ht(o,a){a.is_visible?(m=!0,L("activated")):(m=!1,L("deactivated"))}function bt(o){if(!(o.metaKey||o.ctrlKey)){for(var a=o.target;a.tagName!="A"&&a.parentNode;)a=a.parentNode;a.tagName=="A"&&a.target!="_blank"&&(a.protocol=="http:"||a.protocol=="https:")&&a.hostname=="t.me"&&(n.openTgLink(a.href),o.preventDefault())}}function Ce(o){return o.toString().replace(/^\s+|\s+$/g,"")}function L(o){var a=Array.prototype.slice.call(arguments);o=a.shift(),e.callEventCallbacks("webview:"+o,function(l){l.apply(n,a)})}function or(o,a){e.onEvent("webview:"+o,a)}function ir(o,a){e.offEvent("webview:"+o,a)}function Ee(o,a){var l=document.documentElement;l&&l.style&&l.style.setProperty&&l.style.setProperty("--tg-"+o,a)}function ar(o){f=!!o,t.sessionStorageSet("isFullscreen",f?"yes":"no")}function mn(o){b=!!o,t.sessionStorageSet("isOrientationLocked",b?"yes":"no")}function Mr(o){o.bg_color=="#1c1c1d"&&o.bg_color==o.secondary_bg_color&&(o.secondary_bg_color="#2c2c2e");var a;for(var l in o)(a=mt(o[l]))&&(p[l]=a,l=="bg_color"&&(g=_i(a)?"dark":"light",Ee("color-scheme",g)),l="theme-"+l.split("_").join("-"),Ee(l,a));t.sessionStorageSet("themeParams",p)}function yn(o){g=="dark"?(o.bg_dark_color&&(w=o.bg_dark_color),o.header_dark_color&&(k=null,P=o.header_dark_color)):(o.bg_color&&(w=o.bg_color),o.header_color&&(k=null,P=o.header_color)),t.sessionStorageSet("defaultColors",o)}var Ie={};function wn(o){for(var a=100;--a;){for(var l="",d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",_=d.length,x=0;x<o;x++)l+=d[Math.floor(Math.random()*_)];if(!Ie[l])return Ie[l]={},l}throw Error("WebAppCallbackIdGenerateFailed")}var qt=!1,Nt=!1,An=!0;function qr(o){typeof o<"u"&&(An=!!o.is_expanded,qt=o.height,o.is_state_stable&&(Nt=o.height),L("viewportChanged",{isStateStable:!!o.is_state_stable}));var a,l;qt!==!1?a=qt-we+"px":a=we?"calc(100vh - "+we+"px)":"100vh",Nt!==!1?l=Nt-we+"px":l=we?"calc(100vh - "+we+"px)":"100vh",Ee("viewport-height",a),Ee("viewport-stable-height",l)}var Le={top:0,bottom:0,left:0,right:0};function Xo(o){typeof o<"u"&&(typeof o.top<"u"&&(Le.top=o.top),typeof o.bottom<"u"&&(Le.bottom=o.bottom),typeof o.left<"u"&&(Le.left=o.left),typeof o.right<"u"&&(Le.right=o.right),L("safeAreaChanged")),Ee("safe-area-inset-top",Le.top+"px"),Ee("safe-area-inset-bottom",Le.bottom+"px"),Ee("safe-area-inset-left",Le.left+"px"),Ee("safe-area-inset-right",Le.right+"px")}var Fe={top:0,bottom:0,left:0,right:0};function Zo(o){typeof o<"u"&&(typeof o.top<"u"&&(Fe.top=o.top),typeof o.bottom<"u"&&(Fe.bottom=o.bottom),typeof o.left<"u"&&(Fe.left=o.left),typeof o.right<"u"&&(Fe.right=o.right),L("contentSafeAreaChanged")),Ee("content-safe-area-inset-top",Fe.top+"px"),Ee("content-safe-area-inset-bottom",Fe.bottom+"px"),Ee("content-safe-area-inset-left",Fe.left+"px"),Ee("content-safe-area-inset-right",Fe.right+"px")}var Nr=!1;function $o(o){if(!U("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+c);return}Nr=!!o,e.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:Nr})}var jr=!0;function ei(o){if(!U("7.7")){console.warn("[Telegram.WebApp] Changing swipes behavior is not supported in version "+c);return}jr=!!o,e.postEvent("web_app_setup_swipe_behavior",!1,{allow_vertical_swipe:jr})}function ti(o,a){ar(a.is_fullscreen),L("fullscreenChanged")}function ri(o,a){a.error=="ALREADY_FULLSCREEN"&&!f&&ar(!0),L("fullscreenFailed",{error:a.error})}function ni(o){if(!U("8.0")){console.warn("[Telegram.WebApp] Orientation locking is not supported in version "+c);return}mn(o),e.postEvent("web_app_toggle_orientation_lock",!1,{locked:b})}var jt=[];function oi(o,a){L("homeScreenAdded")}function ii(o,a){var l=a.status||"unknown";if(jt.length>0){for(var d=0;d<jt.length;d++){var _=jt[d];_(l)}jt=[]}L("homeScreenChecked",{status:l})}var $e=!1;function ai(o,a){if($e){var l=$e;$e=!1,l.callback&&l.callback(!0),L("shareMessageSent")}}function si(o,a){if($e){var l=$e;$e=!1,l.callback&&l.callback(!1),L("shareMessageFailed",{error:a.error})}}var et=!1;function li(o,a){if(et){var l=et;et=!1,l.callback&&l.callback(!0),L("emojiStatusSet")}}function ci(o,a){if(et){var l=et;et=!1,l.callback&&l.callback(!1),L("emojiStatusFailed",{error:a.error})}}var Rt=!1;function ui(o,a){if(Rt){var l=Rt;Rt=!1,l.callback&&l.callback(a.status=="allowed"),L("emojiStatusAccessRequested",{status:a.status})}}var Ue=!1;function fi(){return k=="secondary_bg_color"?p.secondary_bg_color:k=="bg_color"?p.bg_color:P}function pi(o){if(!U("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+c);return}U("6.9")||(p.bg_color&&p.bg_color==o?o="bg_color":p.secondary_bg_color&&p.secondary_bg_color==o&&(o="secondary_bg_color"));var a=null,l=null;if(o=="bg_color"||o=="secondary_bg_color")l=o;else if(U("6.9")&&(a=mt(o),!a))throw console.error("[Telegram.WebApp] Header color format is invalid",o),Error("WebAppHeaderColorInvalid");if(!U("6.9")&&l!="bg_color"&&l!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",o),Error("WebAppHeaderColorKeyInvalid");k=l,P=a,Lr()}var kn=null,Rr=null;function Lr(){(kn!=k||Rr!=P)&&(kn=k,Rr=P,Rr?e.postEvent("web_app_set_header_color",!1,{color:P}):e.postEvent("web_app_set_header_color",!1,{color_key:k}))}function En(){return w=="secondary_bg_color"?p.secondary_bg_color:w=="bg_color"?p.bg_color:w}function di(o){if(!U("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+c);return}var a;if(o=="bg_color"||o=="secondary_bg_color")a=o;else if(a=mt(o),!a)throw console.error("[Telegram.WebApp] Background color format is invalid",o),Error("WebAppBackgroundColorInvalid");w=a,Fr()}var Tn=null;function Fr(){var o=En();Tn!=o&&(Tn=o,e.postEvent("web_app_set_background_color",!1,{color:o}))}var Lt="bottom_bar_bg_color";function Ft(){return Lt=="bottom_bar_bg_color"?p.bottom_bar_bg_color||p.secondary_bg_color||"#ffffff":Lt=="secondary_bg_color"?p.secondary_bg_color:Lt=="bg_color"?p.bg_color:Lt}function vi(o){if(!U("7.10")){console.warn("[Telegram.WebApp] Bottom bar color is not supported in version "+c);return}var a;if(o=="bg_color"||o=="secondary_bg_color"||o=="bottom_bar_bg_color")a=o;else if(a=mt(o),!a)throw console.error("[Telegram.WebApp] Bottom bar color format is invalid",o),Error("WebAppBottomBarColorInvalid");Lt=a,Ur(),window.Telegram.WebApp.SecondaryButton.setParams({})}var xn=null;function Ur(){var o=Ft();xn!=o&&(xn=o,e.postEvent("web_app_set_bottom_bar_color",!1,{color:o})),r.tgWebAppDebug&&Cn()}function mt(o){o+="";var a;if(a=/^\s*#([0-9a-f]{6})\s*$/i.exec(o))return"#"+a[1].toLowerCase();if(a=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(o))return("#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]).toLowerCase();if(a=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(o)){var l=parseInt(a[1]),d=parseInt(a[2]),_=parseInt(a[3]);return l=(l<16?"0":"")+l.toString(16),d=(d<16?"0":"")+d.toString(16),_=(_<16?"0":"")+_.toString(16),"#"+l+d+_}return!1}function _i(o){o=o.replace(/[\s#]/g,""),o.length==3&&(o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]);var a=parseInt(o.substr(0,2),16),l=parseInt(o.substr(2,2),16),d=parseInt(o.substr(4,2),16),_=Math.sqrt(.299*(a*a)+.587*(l*l)+.114*(d*d));return _<120}function gi(o,a){typeof o!="string"&&(o=""),typeof a!="string"&&(a=""),o=o.replace(/^\s+|\s+$/g,"").split("."),a=a.replace(/^\s+|\s+$/g,"").split(".");var l=Math.max(o.length,a.length),d,_,x;for(d=0;d<l;d++)if(_=parseInt(o[d])||0,x=parseInt(a[d])||0,_!=x)return _>x?1:-1;return 0}function U(o){return gi(c,o)>=0}function hi(o){if(window.Blob)try{return new Blob([o]).size}catch{}for(var a=o.length,l=o.length-1;l>=0;l--){var d=o.charCodeAt(l);d>127&&d<=2047?a++:d>2047&&d<=65535&&(a+=2),d>=56320&&d<=57343&&l--}return a}var bi=function(){var o=!1,a={};Object.defineProperty(a,"isVisible",{set:function(q){K({is_visible:q})},get:function(){return o},enumerable:!0});var l=null;e.onEvent("back_button_pressed",d);function d(){L("backButtonClicked")}function _(){return{is_visible:o}}function x(q){return typeof q>"u"&&(q=_()),JSON.stringify(q)}function B(){return U("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+c),!1)}function C(){var q=_(),D=x(q);l!==D&&(l=D,e.postEvent("web_app_setup_back_button",!1,q))}function K(q){return B()&&(typeof q.is_visible<"u"&&(o=!!q.is_visible),C()),a}return a.onClick=function(q){return B()&&or("backButtonClicked",q),a},a.offClick=function(q){return B()&&ir("backButtonClicked",q),a},a.show=function(){return K({is_visible:!0})},a.hide=function(){return K({is_visible:!1})},a}(),Te=null,Hr={},we=0;if(r.tgWebAppDebug){Te=document.createElement("tg-bottom-bar");var Sn={display:"flex",gap:"7px",font:"600 14px/18px sans-serif",width:"100%",background:Ft(),position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"7px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var Pn in Sn)Te.style[Pn]=Sn[Pn];document.addEventListener("DOMContentLoaded",function o(a){document.removeEventListener("DOMContentLoaded",o),document.body.appendChild(Te)});var Wn=document.createElement("style");Wn.innerHTML='tg-bottom-button.shine { position: relative; overflow: hidden; } tg-bottom-button.shine:before { content:""; position: absolute; top: 0; width: 100%; height: 100%; background: linear-gradient(120deg, transparent, rgba(255, 255, 255, .2), transparent); animation: tg-bottom-button-shine 5s ease-in-out infinite; } @-webkit-keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}} @keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}}',Te.appendChild(Wn)}function Cn(){var o=Hr.main._bottomButton,a=Hr.secondary._bottomButton;o.isVisible||a.isVisible?(Te.style.display="flex",we=58,o.isVisible&&a.isVisible&&(a.position=="top"?(Te.style.flexDirection="column-reverse",we+=51):a.position=="bottom"?(Te.style.flexDirection="column",we+=51):a.position=="left"?Te.style.flexDirection="row-reverse":a.position=="right"&&(Te.style.flexDirection="row"))):(Te.style.display="none",we=0),Te.style.background=Ft(),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=we+"px"),qr()}var In=function(o){var a=o=="main";if(a)var l="web_app_setup_main_button",d="main_button_pressed",_="mainButtonClicked",x="Continue",B=function(){return p.button_color||"#2481cc"},C=function(){return p.button_text_color||"#ffffff"};else var l="web_app_setup_secondary_button",d="secondary_button_pressed",_="secondaryButtonClicked",x="Cancel",B=function(){return Ft()},C=function(){return p.button_color||"#2481cc"};var K=!1,q=!0,D=!1,X=!1,G=o,S=x,O=!1,j=!1,ie="left",M={};Object.defineProperty(M,"type",{get:function(){return G},enumerable:!0}),Object.defineProperty(M,"text",{set:function(W){M.setParams({text:W})},get:function(){return S},enumerable:!0}),Object.defineProperty(M,"color",{set:function(W){M.setParams({color:W})},get:function(){return O||B()},enumerable:!0}),Object.defineProperty(M,"textColor",{set:function(W){M.setParams({text_color:W})},get:function(){return j||C()},enumerable:!0}),Object.defineProperty(M,"isVisible",{set:function(W){M.setParams({is_visible:W})},get:function(){return K},enumerable:!0}),Object.defineProperty(M,"isProgressVisible",{get:function(){return X},enumerable:!0}),Object.defineProperty(M,"isActive",{set:function(W){M.setParams({is_active:W})},get:function(){return q},enumerable:!0}),Object.defineProperty(M,"hasShineEffect",{set:function(W){M.setParams({has_shine_effect:W})},get:function(){return D},enumerable:!0}),a||Object.defineProperty(M,"position",{set:function(W){M.setParams({position:W})},get:function(){return ie},enumerable:!0});var ne=null;e.onEvent(d,Mn);var Y=null;if(r.tgWebAppDebug){Y=document.createElement("tg-bottom-button");var ae={display:"none",width:"100%",height:"44px",borderRadius:"0",background:"no-repeat right center",padding:"13px 15px",textAlign:"center",boxSizing:"border-box"};for(var tt in ae)Y.style[tt]=ae[tt];Te.appendChild(Y),Y.addEventListener("click",Mn,!1),Y._bottomButton=M,Hr[o]=Y}function Mn(){q&&L(_)}function qn(){var W=M.color,He=M.textColor;if(K){var yt={is_visible:!0,is_active:q,is_progress_visible:X,text:S,color:W,text_color:He,has_shine_effect:D&&q&&!X};a||(yt.position=ie)}else var yt={is_visible:!1};return yt}function ji(W){return typeof W>"u"&&(W=qn()),JSON.stringify(W)}function Vr(){var W=qn(),He=ji(W);ne!==He&&(ne=He,e.postEvent(l,!1,W),r.tgWebAppDebug&&Ri(W))}function Ri(W){W.is_visible?(Y.style.display="block",Y.style.opacity=W.is_active?"1":"0.8",Y.style.cursor=W.is_active?"pointer":"auto",Y.disabled=!W.is_active,Y.innerText=W.text,Y.className=W.has_shine_effect?"shine":"",Y.style.backgroundImage=W.is_progress_visible?"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewport="0 0 48 48" width="48px" height="48px"><circle cx="50%" cy="50%" stroke="'+W.text_color+'" stroke-width="2.25" stroke-linecap="round" fill="none" stroke-dashoffset="106" r="9" stroke-dasharray="56.52" rotate="-90"><animate attributeName="stroke-dashoffset" attributeType="XML" dur="360s" from="0" to="12500" repeatCount="indefinite"></animate><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="-90 24 24" to="630 24 24" repeatCount="indefinite"></animateTransform></circle></svg>')+"')":"none",Y.style.backgroundColor=W.color,Y.style.color=W.text_color):Y.style.display="none",Cn()}function Li(W){if(typeof W.text<"u"){var He=Ce(W.text);if(!He.length)throw console.error("[Telegram.WebApp] Bottom button text is required",W.text),Error("WebAppBottomButtonParamInvalid");if(He.length>64)throw console.error("[Telegram.WebApp] Bottom button text is too long",He),Error("WebAppBottomButtonParamInvalid");S=He}if(typeof W.color<"u")if(W.color===!1||W.color===null)O=!1;else{var yt=mt(W.color);if(!yt)throw console.error("[Telegram.WebApp] Bottom button color format is invalid",W.color),Error("WebAppBottomButtonParamInvalid");O=yt}if(typeof W.text_color<"u")if(W.text_color===!1||W.text_color===null)j=!1;else{var Nn=mt(W.text_color);if(!Nn)throw console.error("[Telegram.WebApp] Bottom button text color format is invalid",W.text_color),Error("WebAppBottomButtonParamInvalid");j=Nn}if(typeof W.is_visible<"u"){if(W.is_visible&&!M.text.length)throw console.error("[Telegram.WebApp] Bottom button text is required"),Error("WebAppBottomButtonParamInvalid");K=!!W.is_visible}if(typeof W.has_shine_effect<"u"&&(D=!!W.has_shine_effect),!a&&typeof W.position<"u"){if(W.position!="left"&&W.position!="right"&&W.position!="top"&&W.position!="bottom")throw console.error("[Telegram.WebApp] Bottom button posiition is invalid",W.position),Error("WebAppBottomButtonParamInvalid");ie=W.position}return typeof W.is_active<"u"&&(q=!!W.is_active),Vr(),M}return M.setText=function(W){return M.setParams({text:W})},M.onClick=function(W){return or(_,W),M},M.offClick=function(W){return ir(_,W),M},M.show=function(){return M.setParams({is_visible:!0})},M.hide=function(){return M.setParams({is_visible:!1})},M.enable=function(){return M.setParams({is_active:!0})},M.disable=function(){return M.setParams({is_active:!1})},M.showProgress=function(W){return q=!!W,X=!0,Vr(),M},M.hideProgress=function(){return M.isActive||(q=!0),X=!1,Vr(),M},M.setParams=Li,M},mi=In("main"),yi=In("secondary"),On=function(){var o=!1,a={};Object.defineProperty(a,"isVisible",{set:function(q){K({is_visible:q})},get:function(){return o},enumerable:!0});var l=null;e.onEvent("settings_button_pressed",d);function d(){L("settingsButtonClicked")}function _(){return{is_visible:o}}function x(q){return typeof q>"u"&&(q=_()),JSON.stringify(q)}function B(){return U("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+c),!1)}function C(){var q=_(),D=x(q);l!==D&&(l=D,e.postEvent("web_app_setup_settings_button",!1,q))}function K(q){return B()&&(typeof q.is_visible<"u"&&(o=!!q.is_visible),C()),a}return a.onClick=function(q){return B()&&or("settingsButtonClicked",q),a},a.offClick=function(q){return B()&&ir("settingsButtonClicked",q),a},a.show=function(){return K({is_visible:!0})},a.hide=function(){return K({is_visible:!1})},a}(),wi=function(){var o={};function a(l){if(!U("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+c),o;if(l.type=="impact"){if(l.impact_style!="light"&&l.impact_style!="medium"&&l.impact_style!="heavy"&&l.impact_style!="rigid"&&l.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",l.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(l.type=="notification"){if(l.notification_type!="error"&&l.notification_type!="success"&&l.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",l.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(l.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",l.type),Error("WebAppHapticFeedbackTypeInvalid");return e.postEvent("web_app_trigger_haptic_feedback",!1,l),o}return o.impactOccurred=function(l){return a({type:"impact",impact_style:l})},o.notificationOccurred=function(l){return a({type:"notification",notification_type:l})},o.selectionChanged=function(){return a({type:"selection_change"})},o}(),Ai=function(){var o={};function a(l,d,_){if(!U("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+c),Error("WebAppMethodUnsupported");return Gr(l,d,_),o}return o.setItem=function(l,d,_){return a("saveStorageValue",{key:l,value:d},_)},o.getItem=function(l,d){return o.getItems([l],d?function(_,x){_?d(_):d(null,x[l])}:null)},o.getItems=function(l,d){return a("getStorageValues",{keys:l},d)},o.removeItem=function(l,d){return o.removeItems([l],d)},o.removeItems=function(l,d){return a("deleteStorageValues",{keys:l},d)},o.getKeys=function(l){return a("getStorageKeys",{},l)},o}(),ki=function(){var o=!1,a=!1,l="unknown",d=!1,_=!1,x=!1,B="",C={};Object.defineProperty(C,"isInited",{get:function(){return o},enumerable:!0}),Object.defineProperty(C,"isBiometricAvailable",{get:function(){return o&&a},enumerable:!0}),Object.defineProperty(C,"biometricType",{get:function(){return l||"unknown"},enumerable:!0}),Object.defineProperty(C,"isAccessRequested",{get:function(){return d},enumerable:!0}),Object.defineProperty(C,"isAccessGranted",{get:function(){return d&&_},enumerable:!0}),Object.defineProperty(C,"isBiometricTokenSaved",{get:function(){return x},enumerable:!0}),Object.defineProperty(C,"deviceId",{get:function(){return B||""},enumerable:!0});var K={callbacks:[]},q=!1,D=!1,X=!1;e.onEvent("biometry_info_received",G),e.onEvent("biometry_auth_requested",S),e.onEvent("biometry_token_updated",O);function G(M,ne){if(o=!0,ne.available?(a=!0,l=ne.type||"unknown",ne.access_requested?(d=!0,_=!!ne.access_granted,x=!!ne.token_saved):(d=!1,_=!1,x=!1)):(a=!1,l="unknown",d=!1,_=!1,x=!1),B=ne.device_id||"",K.callbacks.length>0){for(var Y=0;Y<K.callbacks.length;Y++){var ae=K.callbacks[Y];ae()}K.callbacks=[]}if(q){var tt=q;q=!1,tt.callback&&tt.callback(_)}L("biometricManagerUpdated")}function S(M,ne){var Y=ne.status=="authorized",ae=ne.token||"";if(D){var tt=D;D=!1,tt.callback&&tt.callback(Y,Y?ae:null)}L("biometricAuthRequested",Y?{isAuthenticated:!0,biometricToken:ae}:{isAuthenticated:!1})}function O(M,ne){var Y=!1;if(a&&d&&(ne.status=="updated"?(x=!0,Y=!0):ne.status=="removed"&&(x=!1,Y=!0)),X){var ae=X;X=!1,ae.callback&&ae.callback(Y)}L("biometricTokenUpdated",{isUpdated:Y})}function j(){return U("7.2")?!0:(console.warn("[Telegram.WebApp] BiometricManager is not supported in version "+c),!1)}function ie(){if(!o)throw console.error("[Telegram.WebApp] BiometricManager should be inited before using."),Error("WebAppBiometricManagerNotInited");return!0}return C.init=function(M){return!j()||o||(M&&K.callbacks.push(M),e.postEvent("web_app_biometry_get_info",!1)),C},C.requestAccess=function(M,ne){if(!j())return C;if(ie(),!a)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(q)throw console.error("[Telegram.WebApp] Access is already requested"),Error("WebAppBiometricManagerAccessRequested");var Y={};if(typeof M.reason<"u"){var ae=Ce(M.reason);if(ae.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",ae),Error("WebAppBiometricRequestAccessParamInvalid");ae.length>0&&(Y.reason=ae)}return q={callback:ne},e.postEvent("web_app_biometry_request_access",!1,Y),C},C.authenticate=function(M,ne){if(!j())return C;if(ie(),!a)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!_)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(D)throw console.error("[Telegram.WebApp] Authentication request is already in progress."),Error("WebAppBiometricManagerAuthenticationRequested");var Y={};if(typeof M.reason<"u"){var ae=Ce(M.reason);if(ae.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",ae),Error("WebAppBiometricRequestAccessParamInvalid");ae.length>0&&(Y.reason=ae)}return D={callback:ne},e.postEvent("web_app_biometry_request_auth",!1,Y),C},C.updateBiometricToken=function(M,ne){if(!j())return C;if(M=M||"",M.length>1024)throw console.error("[Telegram.WebApp] Token is too long",M),Error("WebAppBiometricManagerTokenInvalid");if(ie(),!a)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!_)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(X)throw console.error("[Telegram.WebApp] Token request is already in progress."),Error("WebAppBiometricManagerTokenUpdateRequested");return X={callback:ne},e.postEvent("web_app_biometry_update_token",!1,{token:M}),C},C.openSettings=function(){if(!j())return C;if(ie(),!a)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!d)throw console.error("[Telegram.WebApp] Biometric access was not requested yet."),Error("WebAppBiometricManagerBiometricsAccessNotRequested");return _?(console.warn("[Telegram.WebApp] Biometric access was granted by the user, no need to go to settings."),C):(e.postEvent("web_app_biometry_open_settings",!1),C)},C}(),Ei=function(){var o=!1,a=!1,l=!1,d=!1,_={};Object.defineProperty(_,"isInited",{get:function(){return o},enumerable:!0}),Object.defineProperty(_,"isLocationAvailable",{get:function(){return o&&a},enumerable:!0}),Object.defineProperty(_,"isAccessRequested",{get:function(){return l},enumerable:!0}),Object.defineProperty(_,"isAccessGranted",{get:function(){return l&&d},enumerable:!0});var x={callbacks:[]},B={callbacks:[]};e.onEvent("location_checked",C),e.onEvent("location_requested",K);function C(G,S){if(o=!0,S.available?(a=!0,S.access_requested?(l=!0,d=!!S.access_granted):(l=!1,d=!1)):(a=!1,l=!1,d=!1),x.callbacks.length>0){for(var O=0;O<x.callbacks.length;O++){var j=x.callbacks[O];j()}x.callbacks=[]}L("locationManagerUpdated")}function K(G,S){if(!S.available)O=null;else{var O={latitude:S.latitude,longitude:S.longitude,altitude:null,course:null,speed:null,horizontal_accuracy:null,vertical_accuracy:null,course_accuracy:null,speed_accuracy:null};typeof S.altitude<"u"&&S.altitude!==null&&(O.altitude=S.altitude),typeof S.course<"u"&&S.course!==null&&(O.course=S.course%360),typeof S.speed<"u"&&S.speed!==null&&(O.speed=S.speed),typeof S.horizontal_accuracy<"u"&&S.horizontal_accuracy!==null&&(O.horizontal_accuracy=S.horizontal_accuracy),typeof S.vertical_accuracy<"u"&&S.vertical_accuracy!==null&&(O.vertical_accuracy=S.vertical_accuracy),typeof S.course_accuracy<"u"&&S.course_accuracy!==null&&(O.course_accuracy=S.course_accuracy),typeof S.speed_accuracy<"u"&&S.speed_accuracy!==null&&(O.speed_accuracy=S.speed_accuracy)}!S.available||!a||!l||!d?(x.callbacks.push(function(){q(O)}),e.postEvent("web_app_check_location",!1)):q(O)}function q(G){if(B.callbacks.length>0){for(var S=0;S<B.callbacks.length;S++){var O=B.callbacks[S];O(G)}B.callbacks=[]}G!==null&&L("locationRequested",{locationData:G})}function D(){return U("8.0")?!0:(console.warn("[Telegram.WebApp] LocationManager is not supported in version "+c),!1)}function X(){if(!o)throw console.error("[Telegram.WebApp] LocationManager should be inited before using."),Error("WebAppLocationManagerNotInited");return!0}return _.init=function(G){return!D()||o||(G&&x.callbacks.push(G),e.postEvent("web_app_check_location",!1)),_},_.getLocation=function(G){if(!D())return _;if(X(),!a)throw console.error("[Telegram.WebApp] Location is not available on this device."),Error("WebAppLocationManagerLocationNotAvailable");return B.callbacks.push(G),e.postEvent("web_app_request_location"),_},_.openSettings=function(){if(!D())return _;if(X(),!a)throw console.error("[Telegram.WebApp] Location is not available on this device."),Error("WebAppLocationManagerLocationNotAvailable");if(!l)throw console.error("[Telegram.WebApp] Location access was not requested yet."),Error("WebAppLocationManagerLocationAccessNotRequested");return d?(console.warn("[Telegram.WebApp] Location access was granted by the user, no need to go to settings."),_):(e.postEvent("web_app_open_location_settings",!1),_)},_}(),Ti=function(){var o=!1,a=null,l=null,d=null,_=[],x=[],B={};Object.defineProperty(B,"isStarted",{get:function(){return o},enumerable:!0}),Object.defineProperty(B,"x",{get:function(){return a},enumerable:!0}),Object.defineProperty(B,"y",{get:function(){return l},enumerable:!0}),Object.defineProperty(B,"z",{get:function(){return d},enumerable:!0}),e.onEvent("accelerometer_started",C),e.onEvent("accelerometer_stopped",K),e.onEvent("accelerometer_changed",q),e.onEvent("accelerometer_failed",D);function C(G,S){if(o=!0,_.length>0){for(var O=0;O<_.length;O++){var j=_[O];j(!0)}_=[]}L("accelerometerStarted")}function K(G,S){if(o=!1,x.length>0){for(var O=0;O<x.length;O++){var j=x[O];j(!0)}x=[]}L("accelerometerStopped")}function q(G,S){a=S.x,l=S.y,d=S.z,L("accelerometerChanged")}function D(G,S){if(_.length>0){for(var O=0;O<_.length;O++){var j=_[O];j(!1)}_=[]}L("accelerometerFailed",{error:S.error})}function X(){return U("8.0")?!0:(console.warn("[Telegram.WebApp] Accelerometer is not supported in version "+c),!1)}return B.start=function(G,S){if(G=G||{},!X())return B;var O={},j=parseInt(G.refresh_rate||1e3);return isNaN(j)||j<20||j>1e3?console.warn("[Telegram.WebApp] Accelerometer refresh_rate is invalid",j):O.refresh_rate=j,S&&_.push(S),e.postEvent("web_app_start_accelerometer",!1,O),B},B.stop=function(G){return X()&&(G&&x.push(G),e.postEvent("web_app_stop_accelerometer")),B},B}(),xi=function(){var o=!1,a=null,l=null,d=null,_=!1,x=[],B=[],C={};Object.defineProperty(C,"isStarted",{get:function(){return o},enumerable:!0}),Object.defineProperty(C,"absolute",{get:function(){return _},enumerable:!0}),Object.defineProperty(C,"alpha",{get:function(){return a},enumerable:!0}),Object.defineProperty(C,"beta",{get:function(){return l},enumerable:!0}),Object.defineProperty(C,"gamma",{get:function(){return d},enumerable:!0}),e.onEvent("device_orientation_started",K),e.onEvent("device_orientation_stopped",q),e.onEvent("device_orientation_changed",D),e.onEvent("device_orientation_failed",X);function K(S,O){if(o=!0,x.length>0){for(var j=0;j<x.length;j++){var ie=x[j];ie(!0)}x=[]}L("deviceOrientationStarted")}function q(S,O){if(o=!1,B.length>0){for(var j=0;j<B.length;j++){var ie=B[j];ie(!0)}B=[]}L("deviceOrientationStopped")}function D(S,O){_=!!O.absolute,a=O.alpha,l=O.beta,d=O.gamma,L("deviceOrientationChanged")}function X(S,O){if(x.length>0){for(var j=0;j<x.length;j++){var ie=x[j];ie(!1)}x=[]}L("deviceOrientationFailed",{error:O.error})}function G(){return U("8.0")?!0:(console.warn("[Telegram.WebApp] DeviceOrientation is not supported in version "+c),!1)}return C.start=function(S,O){if(S=S||{},!G())return C;var j={},ie=parseInt(S.refresh_rate||1e3);return isNaN(ie)||ie<20||ie>1e3?console.warn("[Telegram.WebApp] DeviceOrientation refresh_rate is invalid",ie):j.refresh_rate=ie,j.need_absolute=!!S.need_absolute,O&&x.push(O),e.postEvent("web_app_start_device_orientation",!1,j),C},C.stop=function(S){return G()&&(S&&B.push(S),e.postEvent("web_app_stop_device_orientation")),C},C}(),Si=function(){var o=!1,a=null,l=null,d=null,_=[],x=[],B={};Object.defineProperty(B,"isStarted",{get:function(){return o},enumerable:!0}),Object.defineProperty(B,"x",{get:function(){return a},enumerable:!0}),Object.defineProperty(B,"y",{get:function(){return l},enumerable:!0}),Object.defineProperty(B,"z",{get:function(){return d},enumerable:!0}),e.onEvent("gyroscope_started",C),e.onEvent("gyroscope_stopped",K),e.onEvent("gyroscope_changed",q),e.onEvent("gyroscope_failed",D);function C(G,S){if(o=!0,_.length>0){for(var O=0;O<_.length;O++){var j=_[O];j(!0)}_=[]}L("gyroscopeStarted")}function K(G,S){if(o=!1,x.length>0){for(var O=0;O<x.length;O++){var j=x[O];j(!0)}x=[]}L("gyroscopeStopped")}function q(G,S){a=S.x,l=S.y,d=S.z,L("gyroscopeChanged")}function D(G,S){if(_.length>0){for(var O=0;O<_.length;O++){var j=_[O];j(!1)}_=[]}L("gyroscopeFailed",{error:S.error})}function X(){return U("8.0")?!0:(console.warn("[Telegram.WebApp] Gyroscope is not supported in version "+c),!1)}return B.start=function(G,S){if(G=G||{},!X())return B;var O={},j=parseInt(G.refresh_rate||1e3);return isNaN(j)||j<20||j>1e3?console.warn("[Telegram.WebApp] Gyroscope refresh_rate is invalid",j):O.refresh_rate=j,S&&_.push(S),e.postEvent("web_app_start_gyroscope",!1,O),B},B.stop=function(G){return X()&&(G&&x.push(G),e.postEvent("web_app_stop_gyroscope")),B},B}(),Ut={};function Pi(o,a){if(a.slug&&Ut[a.slug]){var l=Ut[a.slug];delete Ut[a.slug],l.callback&&l.callback(a.status),L("invoiceClosed",{url:l.url,status:a.status})}}var Ue=!1;function Bn(o,a){if(Ue){var l=Ue;Ue=!1;var d=null;typeof a.button_id<"u"&&(d=a.button_id),l.callback&&l.callback(d),L("popupClosed",{button_id:d})}}var ut=!1;function Wi(o,a){if(ut){var l=ut,d=null;typeof a.data<"u"&&(d=a.data),l.callback&&l.callback(d)&&(ut=!1,e.postEvent("web_app_close_scan_qr_popup",!1)),L("qrTextReceived",{data:d})}}function Ci(o,a){ut=!1,L("scanQrPopupClosed")}function Ii(o,a){if(a.req_id&&Ie[a.req_id]){var l=Ie[a.req_id];delete Ie[a.req_id];var d=null;typeof a.data<"u"&&(d=a.data),l.callback&&l.callback(d),L("clipboardTextReceived",{data:d})}}var Ht=!1;function Oi(o,a){if(Ht){var l=Ht;Ht=!1,l.callback&&l.callback(a.status=="allowed"),L("writeAccessRequested",{status:a.status})}}function Bi(o,a){var l,d,_=0,x=function(){Gr("getRequestedContact",{},function(C,K){K&&K.length?(clearTimeout(d),o(K)):(_+=50,l=setTimeout(x,_))})},B=function(){clearTimeout(l),o("")};d=setTimeout(B,a),x()}var Gt=!1;function Mi(o,a){if(Gt){var l=Gt;Gt=!1;var d=a.status=="sent",_={status:a.status};d?Bi(function(x){if(x&&x.length){_.response=x,_.responseUnsafe=t.urlParseQueryString(x);for(var B in _.responseUnsafe){var C=_.responseUnsafe[B];try{(C.substr(0,1)=="{"&&C.substr(-1)=="}"||C.substr(0,1)=="["&&C.substr(-1)=="]")&&(_.responseUnsafe[B]=JSON.parse(C))}catch{}}}l.callback&&l.callback(d,_),L("contactRequested",_)},3e3):(l.callback&&l.callback(d,_),L("contactRequested",_))}}var Vt=!1;function qi(o,a){if(Vt){var l=Vt;Vt=!1;var d=a.status=="downloading";l.callback&&l.callback(d),L("fileDownloadRequested",{status:d?"downloading":"cancelled"})}}function Ni(o,a){if(a.req_id&&Ie[a.req_id]){var l=Ie[a.req_id];delete Ie[a.req_id];var d=null,_=null;typeof a.result<"u"&&(d=a.result),typeof a.error<"u"&&(_=a.error),l.callback&&l.callback(_,d)}}function Gr(o,a,l){if(!U("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+c),Error("WebAppMethodUnsupported");var d=wn(16),_={req_id:d,method:o,params:a||{}};Ie[d]={callback:l},e.postEvent("web_app_invoke_custom_method",!1,_)}window.Telegram||(window.Telegram={}),Object.defineProperty(n,"initData",{get:function(){return s},enumerable:!0}),Object.defineProperty(n,"initDataUnsafe",{get:function(){return u},enumerable:!0}),Object.defineProperty(n,"version",{get:function(){return c},enumerable:!0}),Object.defineProperty(n,"platform",{get:function(){return h},enumerable:!0}),Object.defineProperty(n,"colorScheme",{get:function(){return g},enumerable:!0}),Object.defineProperty(n,"themeParams",{get:function(){return p},enumerable:!0}),Object.defineProperty(n,"isExpanded",{get:function(){return An},enumerable:!0}),Object.defineProperty(n,"viewportHeight",{get:function(){return(qt===!1?window.innerHeight:qt)-we},enumerable:!0}),Object.defineProperty(n,"viewportStableHeight",{get:function(){return(Nt===!1?window.innerHeight:Nt)-we},enumerable:!0}),Object.defineProperty(n,"safeAreaInset",{get:function(){return Le},enumerable:!0}),Object.defineProperty(n,"contentSafeAreaInset",{get:function(){return Fe},enumerable:!0}),Object.defineProperty(n,"isClosingConfirmationEnabled",{set:function(o){$o(o)},get:function(){return Nr},enumerable:!0}),Object.defineProperty(n,"isVerticalSwipesEnabled",{set:function(o){ei(o)},get:function(){return jr},enumerable:!0}),Object.defineProperty(n,"isFullscreen",{get:function(){return f},enumerable:!0}),Object.defineProperty(n,"isOrientationLocked",{set:function(o){ni(o)},get:function(){return b},enumerable:!0}),Object.defineProperty(n,"isActive",{get:function(){return m},enumerable:!0}),Object.defineProperty(n,"headerColor",{set:function(o){pi(o)},get:function(){return fi()},enumerable:!0}),Object.defineProperty(n,"backgroundColor",{set:function(o){di(o)},get:function(){return En()},enumerable:!0}),Object.defineProperty(n,"bottomBarColor",{set:function(o){vi(o)},get:function(){return Ft()},enumerable:!0}),Object.defineProperty(n,"BackButton",{value:bi,enumerable:!0}),Object.defineProperty(n,"MainButton",{value:mi,enumerable:!0}),Object.defineProperty(n,"SecondaryButton",{value:yi,enumerable:!0}),Object.defineProperty(n,"SettingsButton",{value:On,enumerable:!0}),Object.defineProperty(n,"HapticFeedback",{value:wi,enumerable:!0}),Object.defineProperty(n,"CloudStorage",{value:Ai,enumerable:!0}),Object.defineProperty(n,"BiometricManager",{value:ki,enumerable:!0}),Object.defineProperty(n,"Accelerometer",{value:Ti,enumerable:!0}),Object.defineProperty(n,"DeviceOrientation",{value:xi,enumerable:!0}),Object.defineProperty(n,"Gyroscope",{value:Si,enumerable:!0}),Object.defineProperty(n,"LocationManager",{value:Ei,enumerable:!0}),n.isVersionAtLeast=function(o){return U(o)},n.setHeaderColor=function(o){n.headerColor=o},n.setBackgroundColor=function(o){n.backgroundColor=o},n.setBottomBarColor=function(o){n.bottomBarColor=o},n.enableClosingConfirmation=function(){n.isClosingConfirmationEnabled=!0},n.disableClosingConfirmation=function(){n.isClosingConfirmationEnabled=!1},n.enableVerticalSwipes=function(){n.isVerticalSwipesEnabled=!0},n.disableVerticalSwipes=function(){n.isVerticalSwipesEnabled=!1},n.lockOrientation=function(){n.isOrientationLocked=!0},n.unlockOrientation=function(){n.isOrientationLocked=!1},n.requestFullscreen=function(){if(!U("8.0"))throw console.error("[Telegram.WebApp] Method requestFullscreen is not supported in version "+c),Error("WebAppMethodUnsupported");e.postEvent("web_app_request_fullscreen")},n.exitFullscreen=function(){if(!U("8.0"))throw console.error("[Telegram.WebApp] Method exitFullscreen is not supported in version "+c),Error("WebAppMethodUnsupported");e.postEvent("web_app_exit_fullscreen")},n.addToHomeScreen=function(){if(!U("8.0"))throw console.error("[Telegram.WebApp] Method addToHomeScreen is not supported in version "+c),Error("WebAppMethodUnsupported");e.postEvent("web_app_add_to_home_screen")},n.checkHomeScreenStatus=function(o){if(!U("8.0"))throw console.error("[Telegram.WebApp] Method checkHomeScreenStatus is not supported in version "+c),Error("WebAppMethodUnsupported");o&&jt.push(o),e.postEvent("web_app_check_home_screen")},n.onEvent=function(o,a){or(o,a)},n.offEvent=function(o,a){ir(o,a)},n.sendData=function(o){if(!o||!o.length)throw console.error("[Telegram.WebApp] Data is required",o),Error("WebAppDataInvalid");if(hi(o)>4096)throw console.error("[Telegram.WebApp] Data is too long",o),Error("WebAppDataInvalid");e.postEvent("web_app_data_send",!1,{data:o})},n.switchInlineQuery=function(o,a){if(!U("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+c),Error("WebAppMethodUnsupported");if(!r.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(o=o||"",o.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",o),Error("WebAppInlineQueryInvalid");var l=[];if(a){if(!Array.isArray(a))throw console.error("[Telegram.WebApp] Choose chat types should be an array",a),Error("WebAppInlineChooseChatTypesInvalid");for(var d={users:1,bots:1,groups:1,channels:1},_=0;_<a.length;_++){var x=a[_];if(!d[x])throw console.error("[Telegram.WebApp] Choose chat type is invalid",x),Error("WebAppInlineChooseChatTypeInvalid");d[x]!=2&&(d[x]=2,l.push(x))}}e.postEvent("web_app_switch_inline_query",!1,{query:o,chat_types:l})},n.openLink=function(d,a){var l=document.createElement("A");if(l.href=d,l.protocol!="http:"&&l.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",d),Error("WebAppTgUrlInvalid");var d=l.href;if(a=a||{},U("6.1")){var _={url:d};U("6.4")&&a.try_instant_view&&(_.try_instant_view=!0),U("7.6")&&a.try_browser&&(_.try_browser=a.try_browser),e.postEvent("web_app_open_link",!1,_)}else window.open(d,"_blank")},n.openTelegramLink=function(o,a){var l=document.createElement("A");if(l.href=o,l.protocol!="http:"&&l.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",o),Error("WebAppTgUrlInvalid");if(l.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",o),Error("WebAppTgUrlInvalid");var d=l.pathname+l.search;if(a=a||{},i||U("6.1")){var _={path_full:d};a.force_request&&(_.force_request=!0),e.postEvent("web_app_open_tg_link",!1,_)}else location.href="https://t.me"+d},n.openInvoice=function(o,a){var l=document.createElement("A"),d,_;if(l.href=o,l.protocol!="http:"&&l.protocol!="https:"||l.hostname!="t.me"||!(d=l.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(_=d[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",o),Error("WebAppInvoiceUrlInvalid");if(!U("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+c),Error("WebAppMethodUnsupported");if(Ut[_])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");Ut[_]={url:o,callback:a},e.postEvent("web_app_open_invoice",!1,{slug:_})},n.showPopup=function(o,a){if(!U("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+c),Error("WebAppMethodUnsupported");if(Ue)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var l="",d="",_=[],x={};if(typeof o.title<"u"){if(l=Ce(o.title),l.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",l),Error("WebAppPopupParamInvalid");l.length>0&&(x.title=l)}if(typeof o.message<"u"&&(d=Ce(o.message)),!d.length)throw console.error("[Telegram.WebApp] Popup message is required",o.message),Error("WebAppPopupParamInvalid");if(d.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",d),Error("WebAppPopupParamInvalid");if(x.message=d,typeof o.buttons<"u"){if(!Array.isArray(o.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",o.buttons),Error("WebAppPopupParamInvalid");for(var B=0;B<o.buttons.length;B++){var C=o.buttons[B],K={},q="";if(typeof C.id<"u"&&(q=C.id.toString(),q.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",q),Error("WebAppPopupParamInvalid");K.id=q;var D=C.type;if(typeof D>"u"&&(D="default"),K.type=D,!(D=="ok"||D=="close"||D=="cancel"))if(D=="default"||D=="destructive"){var X="";if(typeof C.text<"u"&&(X=Ce(C.text)),!X.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+D,C.text),Error("WebAppPopupParamInvalid");if(X.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",X),Error("WebAppPopupParamInvalid");K.text=X}else throw console.error("[Telegram.WebApp] Popup button type is invalid",D),Error("WebAppPopupParamInvalid");_.push(K)}}else _.push({id:"",type:"close"});if(_.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(_.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");x.buttons=_,Ue={callback:a},e.postEvent("web_app_open_popup",!1,x)},n.showAlert=function(o,a){n.showPopup({message:o},a?function(){a()}:null)},n.showConfirm=function(o,a){n.showPopup({message:o,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},a?function(l){a(l=="ok")}:null)},n.showScanQrPopup=function(o,a){if(!U("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+c),Error("WebAppMethodUnsupported");if(ut)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var l="",d={};if(typeof o.text<"u"){if(l=Ce(o.text),l.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",l),Error("WebAppScanQrPopupParamInvalid");l.length>0&&(d.text=l)}ut={callback:a},e.postEvent("web_app_open_scan_qr_popup",!1,d)},n.closeScanQrPopup=function(){if(!U("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+c),Error("WebAppMethodUnsupported");ut=!1,e.postEvent("web_app_close_scan_qr_popup",!1)},n.readTextFromClipboard=function(o){if(!U("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+c),Error("WebAppMethodUnsupported");var a=wn(16),l={req_id:a};Ie[a]={callback:o},e.postEvent("web_app_read_text_from_clipboard",!1,l)},n.requestWriteAccess=function(o){if(!U("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+c),Error("WebAppMethodUnsupported");if(Ht)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");Ht={callback:o},e.postEvent("web_app_request_write_access")},n.requestContact=function(o){if(!U("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+c),Error("WebAppMethodUnsupported");if(Gt)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");Gt={callback:o},e.postEvent("web_app_request_phone")},n.downloadFile=function(o,a){if(!U("8.0"))throw console.error("[Telegram.WebApp] Method downloadFile is not supported in version "+c),Error("WebAppMethodUnsupported");if(Vt)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppDownloadFilePopupOpened");var l=document.createElement("A"),d={};if(!o||!o.url||!o.url.length)throw console.error("[Telegram.WebApp] Url is required"),Error("WebAppDownloadFileParamInvalid");if(l.href=o.url,l.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",url),Error("WebAppDownloadFileParamInvalid");if(d.url=l.href,!o||!o.file_name||!o.file_name.length)throw console.error("[Telegram.WebApp] File name is required"),Error("WebAppDownloadFileParamInvalid");d.file_name=o.file_name,Vt={callback:a},e.postEvent("web_app_request_file_download",!1,d)},n.shareToStory=function(o,a){if(a=a||{},!U("7.8"))throw console.error("[Telegram.WebApp] Method shareToStory is not supported in version "+c),Error("WebAppMethodUnsupported");var l=document.createElement("A");if(l.href=o,l.protocol!="http:"&&l.protocol!="https:")throw console.error("[Telegram.WebApp] Media url protocol is not supported",url),Error("WebAppMediaUrlInvalid");var d={};if(d.media_url=l.href,typeof a.text<"u"){var _=Ce(a.text);if(_.length>2048)throw console.error("[Telegram.WebApp] Text is too long",_),Error("WebAppShareToStoryParamInvalid");_.length>0&&(d.text=_)}if(typeof a.widget_link<"u"){if(a.widget_link=a.widget_link||{},l.href=a.widget_link.url,l.protocol!="http:"&&l.protocol!="https:")throw console.error("[Telegram.WebApp] Link protocol is not supported",url),Error("WebAppShareToStoryParamInvalid");var x={url:l.href};if(typeof a.widget_link.name<"u"){var B=Ce(a.widget_link.name);if(B.length>48)throw console.error("[Telegram.WebApp] Link name is too long",B),Error("WebAppShareToStoryParamInvalid");B.length>0&&(x.name=B)}d.widget_link=x}e.postEvent("web_app_share_to_story",!1,d)},n.shareMessage=function(o,a){if(!U("8.0"))throw console.error("[Telegram.WebApp] Method shareMessage is not supported in version "+c),Error("WebAppMethodUnsupported");if($e)throw console.error("[Telegram.WebApp] Share message is already opened"),Error("WebAppShareMessageOpened");$e={callback:a},e.postEvent("web_app_send_prepared_message",!1,{id:o})},n.setEmojiStatus=function(o,a,l){if(a=a||{},!U("8.0"))throw console.error("[Telegram.WebApp] Method setEmojiStatus is not supported in version "+c),Error("WebAppMethodUnsupported");var d={};if(d.custom_emoji_id=o,typeof a.duration<"u"&&(d.duration=a.duration),et)throw console.error("[Telegram.WebApp] Emoji status is already requested"),Error("WebAppEmojiStatusRequested");et={callback:l},e.postEvent("web_app_set_emoji_status",!1,d)},n.requestEmojiStatusAccess=function(o){if(!U("8.0"))throw console.error("[Telegram.WebApp] Method requestEmojiStatusAccess is not supported in version "+c),Error("WebAppMethodUnsupported");if(Rt)throw console.error("[Telegram.WebApp] Emoji status permission is already requested"),Error("WebAppEmojiStatusAccessRequested");Rt={callback:o},e.postEvent("web_app_request_emoji_status_access")},n.invokeCustomMethod=function(o,a,l){Gr(o,a,l)},n.ready=function(){e.postEvent("web_app_ready")},n.expand=function(){e.postEvent("web_app_expand")},n.close=function(o){o=o||{};var a={};U("7.6")&&o.return_back&&(a.return_back=!0),e.postEvent("web_app_close",!1,a)},window.Telegram.WebApp=n,Lr(),Fr(),Ur(),qr(),r.tgWebAppShowSettings&&On.show(),window.addEventListener("resize",je),i&&document.addEventListener("click",bt),e.onEvent("theme_changed",re),e.onEvent("viewport_changed",ct),e.onEvent("safe_area_changed",Re),e.onEvent("content_safe_area_changed",Ze),e.onEvent("visibility_changed",ht),e.onEvent("invoice_closed",Pi),e.onEvent("popup_closed",Bn),e.onEvent("qr_text_received",Wi),e.onEvent("scan_qr_popup_closed",Ci),e.onEvent("clipboard_text_received",Ii),e.onEvent("write_access_requested",Oi),e.onEvent("phone_requested",Mi),e.onEvent("file_download_requested",qi),e.onEvent("custom_method_invoked",Ni),e.onEvent("fullscreen_changed",ti),e.onEvent("fullscreen_failed",ri),e.onEvent("home_screen_added",oi),e.onEvent("home_screen_checked",ii),e.onEvent("prepared_message_sent",ai),e.onEvent("prepared_message_failed",si),e.onEvent("emoji_status_set",li),e.onEvent("emoji_status_failed",ci),e.onEvent("emoji_status_access_requested",ui),e.postEvent("web_app_request_theme"),e.postEvent("web_app_request_viewport"),e.postEvent("web_app_request_safe_area"),e.postEvent("web_app_request_content_safe_area")}()),Rn}var Fn;function zi(){if(Fn)return zt;Fn=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.WebApp=void 0,Vi();var t=window;return zt.WebApp=t.Telegram.WebApp,zt}var Un;function Di(){if(Un)return sr;Un=1,Object.defineProperty(sr,"__esModule",{value:!0});var t=zi();return sr.default=t.WebApp,sr}var Ki=Di();const _t=Gi(Ki),Jr=!1;var on=Array.isArray,Yi=Array.prototype.indexOf,an=Array.from,Qi=Object.defineProperty,kt=Object.getOwnPropertyDescriptor,eo=Object.getOwnPropertyDescriptors,Ji=Object.prototype,Xi=Array.prototype,sn=Object.getPrototypeOf;function Zi(t){return typeof t=="function"}const Dt=()=>{};function $i(t){return typeof(t==null?void 0:t.then)=="function"}function ea(t){return t()}function Xr(t){for(var e=0;e<t.length;e++)t[e]()}const We=2,to=4,xr=8,Sr=16,Ne=32,It=64,vr=128,qe=256,_r=512,he=1024,Xe=2048,Ot=4096,De=8192,Pr=16384,ro=32768,Wr=65536,ta=1<<17,ra=1<<19,no=1<<20,Et=Symbol("$state"),na=Symbol("legacy props"),oa=Symbol("");function oo(t){return t===this.v}function io(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ia(t,e){return t!==e}function ln(t){return!io(t,this.v)}function aa(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function sa(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function la(t){throw new Error("https://svelte.dev/e/effect_orphan")}function ca(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ua(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function fa(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function pa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function da(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function va(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let tr=!1,_a=!1;function ga(){tr=!0}const cn=1,un=2,ao=4,ha=8,ba=16,ma=1,ya=2,wa=4,Aa=8,ka=16,Ea=1,Ta=2,xa=4,Sa=1,Pa=2,fe=Symbol();let oe=null;function gr(t){oe=t}function me(t,e=!1,r){oe={p:oe,c:null,e:null,m:!1,s:t,x:null,l:null},tr&&!e&&(oe.l={s:null,u:null,r1:[],r2:ve(!1)})}function ye(t){const e=oe;if(e!==null){const u=e.e;if(u!==null){var r=J,i=Z;e.e=null;try{for(var n=0;n<u.length;n++){var s=u[n];be(s.effect),Se(s.reaction),Ir(s.fn)}}finally{be(r),Se(i)}}oe=e.p,e.m=!0}return{}}function gt(){return!tr||oe!==null&&oe.l===null}function ve(t,e){var r={f:0,v:t,reactions:null,equals:oo,rv:0,wv:0};return r}function at(t){return Wa(ve(t))}function hr(t,e=!1){var i;const r=ve(t);return e||(r.equals=ln),tr&&oe!==null&&oe.l!==null&&((i=oe.l).s??(i.s=[])).push(r),r}function Wa(t){return Z!==null&&!Ke&&Z.f&We&&(Be===null?Fa([t]):Be.push(t)),t}function te(t,e){return Z!==null&&!Ke&&gt()&&Z.f&(We|Sr)&&(Be===null||!Be.includes(t))&&va(),Tt(t,e)}function Tt(t,e){return t.equals(e)||(t.v,t.v=e,t.wv=To(),so(t,Xe),gt()&&J!==null&&J.f&he&&!(J.f&(Ne|It))&&(Ve===null?Ua([t]):Ve.push(t))),e}function so(t,e){var r=t.reactions;if(r!==null)for(var i=gt(),n=r.length,s=0;s<n;s++){var u=r[s],p=u.f;p&Xe||!i&&u===J||(Je(u,e),p&(he|qe)&&(p&We?so(u,Ot):Br(u)))}}let lo=!1;function ge(t,e=null,r){if(typeof t!="object"||t===null||Et in t)return t;const i=sn(t);if(i!==Ji&&i!==Xi)return t;var n=new Map,s=on(t),u=ve(0);s&&n.set("length",ve(t.length));var p;return new Proxy(t,{defineProperty(g,c,h){(!("value"in h)||h.configurable===!1||h.enumerable===!1||h.writable===!1)&&fa();var m=n.get(c);return m===void 0?(m=ve(h.value),n.set(c,m)):te(m,ge(h.value,p)),!0},deleteProperty(g,c){var h=n.get(c);if(h===void 0)c in g&&n.set(c,ve(fe));else{if(s&&typeof c=="string"){var m=n.get("length"),f=Number(c);Number.isInteger(f)&&f<m.v&&te(m,f)}te(h,fe),Hn(u)}return!0},get(g,c,h){var w;if(c===Et)return t;var m=n.get(c),f=c in g;if(m===void 0&&(!f||(w=kt(g,c))!=null&&w.writable)&&(m=ve(ge(f?g[c]:fe,p)),n.set(c,m)),m!==void 0){var b=H(m);return b===fe?void 0:b}return Reflect.get(g,c,h)},getOwnPropertyDescriptor(g,c){var h=Reflect.getOwnPropertyDescriptor(g,c);if(h&&"value"in h){var m=n.get(c);m&&(h.value=H(m))}else if(h===void 0){var f=n.get(c),b=f==null?void 0:f.v;if(f!==void 0&&b!==fe)return{enumerable:!0,configurable:!0,value:b,writable:!0}}return h},has(g,c){var b;if(c===Et)return!0;var h=n.get(c),m=h!==void 0&&h.v!==fe||Reflect.has(g,c);if(h!==void 0||J!==null&&(!m||(b=kt(g,c))!=null&&b.writable)){h===void 0&&(h=ve(m?ge(g[c],p):fe),n.set(c,h));var f=H(h);if(f===fe)return!1}return m},set(g,c,h,m){var y;var f=n.get(c),b=c in g;if(s&&c==="length")for(var w=h;w<f.v;w+=1){var k=n.get(w+"");k!==void 0?te(k,fe):w in g&&(k=ve(fe),n.set(w+"",k))}f===void 0?(!b||(y=kt(g,c))!=null&&y.writable)&&(f=ve(void 0),te(f,ge(h,p)),n.set(c,f)):(b=f.v!==fe,te(f,ge(h,p)));var P=Reflect.getOwnPropertyDescriptor(g,c);if(P!=null&&P.set&&P.set.call(m,h),!b){if(s&&typeof c=="string"){var T=n.get("length"),v=Number(c);Number.isInteger(v)&&v>=T.v&&te(T,v+1)}Hn(u)}return!0},ownKeys(g){H(u);var c=Reflect.ownKeys(g).filter(f=>{var b=n.get(f);return b===void 0||b.v!==fe});for(var[h,m]of n)m.v!==fe&&!(h in g)&&c.push(h);return c},setPrototypeOf(){pa()}})}function Hn(t,e=1){te(t,t.v+e)}var Gn,co,uo;function Ca(){if(Gn===void 0){Gn=window;var t=Element.prototype,e=Node.prototype;co=kt(e,"firstChild").get,uo=kt(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function fn(t=""){return document.createTextNode(t)}function Kt(t){return co.call(t)}function Cr(t){return uo.call(t)}function A(t,e){return Kt(t)}function lt(t,e){{var r=Kt(t);return r instanceof Comment&&r.data===""?Cr(r):r}}function V(t,e=1,r=!1){let i=t;for(;e--;)i=Cr(i);return i}function Ia(t){t.textContent=""}function Pe(t){var e=We|Xe,r=Z!==null&&Z.f&We?Z:null;return J===null||r!==null&&r.f&qe?e|=qe:J.f|=no,{ctx:oe,deps:null,effects:null,equals:oo,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??J}}function fo(t){const e=Pe(t);return e.equals=ln,e}function po(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)Qe(e[r])}}function Oa(t){for(var e=t.parent;e!==null;){if(!(e.f&We))return e;e=e.parent}return null}function Ba(t){var e,r=J;be(Oa(t));try{po(t),e=So(t)}finally{be(r)}return e}function vo(t){var e=Ba(t),r=(it||t.f&qe)&&t.deps!==null?Ot:he;Je(t,r),t.equals(e)||(t.v=e,t.wv=To())}function _o(t){J===null&&Z===null&&la(),Z!==null&&Z.f&qe&&J===null&&sa(),vn&&aa()}function Ma(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function rr(t,e,r,i=!0){var n=(t&It)!==0,s=J,u={ctx:oe,deps:null,nodes_start:null,nodes_end:null,f:t|Xe,first:null,fn:e,last:null,next:null,parent:n?null:s,prev:null,teardown:null,transitions:null,wv:0};if(r){var p=xt;try{Vn(!0),_n(u),u.f|=ro}catch(h){throw Qe(u),h}finally{Vn(p)}}else e!==null&&Br(u);var g=r&&u.deps===null&&u.first===null&&u.nodes_start===null&&u.teardown===null&&(u.f&(no|vr))===0;if(!g&&!n&&i&&(s!==null&&Ma(u,s),Z!==null&&Z.f&We)){var c=Z;(c.effects??(c.effects=[])).push(u)}return u}function Yt(t){_o();var e=J!==null&&(J.f&Ne)!==0&&oe!==null&&!oe.m;if(e){var r=oe;(r.e??(r.e=[])).push({fn:t,effect:J,reaction:Z})}else{var i=Ir(t);return i}}function qa(t){return _o(),go(t)}function Na(t){const e=rr(It,t,!0);return(r={})=>new Promise(i=>{r.outro?st(e,()=>{Qe(e),i(void 0)}):(Qe(e),i(void 0))})}function Ir(t){return rr(to,t,!1)}function go(t){return rr(xr,t,!0)}function se(t,e=[],r=Pe){const i=e.map(r);return Bt(()=>t(...i.map(H)))}function Bt(t,e=0){return rr(xr|Sr|e,t,!0)}function Ye(t,e=!0){return rr(xr|Ne,t,!0,e)}function ho(t){var e=t.teardown;if(e!==null){const r=vn,i=Z;zn(!0),Se(null);try{e.call(null)}finally{zn(r),Se(i)}}}function bo(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var i=r.next;Qe(r,e),r=i}}function ja(t){for(var e=t.first;e!==null;){var r=e.next;e.f&Ne||Qe(e),e=r}}function Qe(t,e=!0){var r=!1;if((e||t.f&ra)&&t.nodes_start!==null){for(var i=t.nodes_start,n=t.nodes_end;i!==null;){var s=i===n?null:Cr(i);i.remove(),i=s}r=!0}bo(t,e&&!r),yr(t,0),Je(t,Pr);var u=t.transitions;if(u!==null)for(const g of u)g.stop();ho(t);var p=t.parent;p!==null&&p.first!==null&&mo(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function mo(t){var e=t.parent,r=t.prev,i=t.next;r!==null&&(r.next=i),i!==null&&(i.prev=r),e!==null&&(e.first===t&&(e.first=i),e.last===t&&(e.last=r))}function st(t,e){var r=[];pn(t,r,!0),yo(r,()=>{Qe(t),e&&e()})}function yo(t,e){var r=t.length;if(r>0){var i=()=>--r||e();for(var n of t)n.out(i)}else e()}function pn(t,e,r){if(!(t.f&De)){if(t.f^=De,t.transitions!==null)for(const u of t.transitions)(u.is_global||r)&&e.push(u);for(var i=t.first;i!==null;){var n=i.next,s=(i.f&Wr)!==0||(i.f&Ne)!==0;pn(i,e,s?r:!1),i=n}}}function Pt(t){wo(t,!0)}function wo(t,e){if(t.f&De){t.f^=De,t.f&he||(t.f^=he),nr(t)&&(Je(t,Xe),Br(t));for(var r=t.first;r!==null;){var i=r.next,n=(r.f&Wr)!==0||(r.f&Ne)!==0;wo(r,n?e:!1),r=i}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let br=!1,Zr=[];function Ao(){br=!1;const t=Zr.slice();Zr=[],Xr(t)}function dn(t){br||(br=!0,queueMicrotask(Ao)),Zr.push(t)}function Ra(){br&&Ao()}const ko=0,La=1;let pr=!1,dr=ko,Qt=!1,Jt=null,xt=!1,vn=!1;function Vn(t){xt=t}function zn(t){vn=t}let ft=[],St=0;let Z=null,Ke=!1;function Se(t){Z=t}let J=null;function be(t){J=t}let Be=null;function Fa(t){Be=t}let _e=null,Ae=0,Ve=null;function Ua(t){Ve=t}let Eo=1,mr=0,it=!1;function To(){return++Eo}function nr(t){var c;var e=t.f;if(e&Xe)return!0;if(e&Ot){var r=t.deps,i=(e&qe)!==0;if(r!==null){var n,s,u=(e&_r)!==0,p=i&&J!==null&&!it,g=r.length;if(u||p){for(n=0;n<g;n++)s=r[n],(u||!((c=s==null?void 0:s.reactions)!=null&&c.includes(t)))&&(s.reactions??(s.reactions=[])).push(t);u&&(t.f^=_r)}for(n=0;n<g;n++)if(s=r[n],nr(s)&&vo(s),s.wv>t.wv)return!0}(!i||J!==null&&!it)&&Je(t,he)}return!1}function Ha(t,e){for(var r=e;r!==null;){if(r.f&vr)try{r.fn(t);return}catch{r.f^=vr}r=r.parent}throw pr=!1,t}function Ga(t){return(t.f&Pr)===0&&(t.parent===null||(t.parent.f&vr)===0)}function Or(t,e,r,i){if(pr){if(r===null&&(pr=!1),Ga(e))throw t;return}r!==null&&(pr=!0);{Ha(t,e);return}}function xo(t,e,r=0){var i=t.reactions;if(i!==null)for(var n=0;n<i.length;n++){var s=i[n];s.f&We?xo(s,e,r+1):e===s&&(r===0?Je(s,Xe):s.f&he&&Je(s,Ot),Br(s))}}function So(t){var b;var e=_e,r=Ae,i=Ve,n=Z,s=it,u=Be,p=oe,g=Ke,c=t.f;_e=null,Ae=0,Ve=null,Z=c&(Ne|It)?null:t,it=(c&qe)!==0&&(!xt||n===null||g),Be=null,gr(t.ctx),Ke=!1,mr++;try{var h=(0,t.fn)(),m=t.deps;if(_e!==null){var f;if(yr(t,Ae),m!==null&&Ae>0)for(m.length=Ae+_e.length,f=0;f<_e.length;f++)m[Ae+f]=_e[f];else t.deps=m=_e;if(!it)for(f=Ae;f<m.length;f++)((b=m[f]).reactions??(b.reactions=[])).push(t)}else m!==null&&Ae<m.length&&(yr(t,Ae),m.length=Ae);if(gt()&&Ve!==null&&!(t.f&(We|Ot|Xe)))for(f=0;f<Ve.length;f++)xo(Ve[f],t);return n!==null&&mr++,h}finally{_e=e,Ae=r,Ve=i,Z=n,it=s,Be=u,gr(p),Ke=g}}function Va(t,e){let r=e.reactions;if(r!==null){var i=Yi.call(r,t);if(i!==-1){var n=r.length-1;n===0?r=e.reactions=null:(r[i]=r[n],r.pop())}}r===null&&e.f&We&&(_e===null||!_e.includes(e))&&(Je(e,Ot),e.f&(qe|_r)||(e.f^=_r),po(e),yr(e,0))}function yr(t,e){var r=t.deps;if(r!==null)for(var i=e;i<r.length;i++)Va(t,r[i])}function _n(t){var e=t.f;if(!(e&Pr)){Je(t,he);var r=J,i=oe;J=t;try{e&Sr?ja(t):bo(t),ho(t);var n=So(t);t.teardown=typeof n=="function"?n:null,t.wv=Eo;var s=t.deps,u;Jr&&_a&&t.f&Xe}catch(p){Or(p,t,r,i||t.ctx)}finally{J=r}}}function Po(){if(St>1e3){St=0;try{ca()}catch(t){if(Jt!==null)Or(t,Jt,null);else throw t}}St++}function Wo(t){var e=t.length;if(e!==0){Po();var r=xt;xt=!0;try{for(var i=0;i<e;i++){var n=t[i];n.f&he||(n.f^=he);var s=[];Co(n,s),za(s)}}finally{xt=r}}}function za(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var i=t[r];if(!(i.f&(Pr|De)))try{nr(i)&&(_n(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?mo(i):i.fn=null))}catch(n){Or(n,i,null,i.ctx)}}}function Da(){if(Qt=!1,St>1001)return;const t=ft;ft=[],Wo(t),Qt||(St=0,Jt=null)}function Br(t){dr===ko&&(Qt||(Qt=!0,queueMicrotask(Da))),Jt=t;for(var e=t;e.parent!==null;){e=e.parent;var r=e.f;if(r&(It|Ne)){if(!(r&he))return;e.f^=he}}ft.push(e)}function Co(t,e){var r=t.first,i=[];e:for(;r!==null;){var n=r.f,s=(n&Ne)!==0,u=s&&(n&he)!==0,p=r.next;if(!u&&!(n&De))if(n&xr){if(s)r.f^=he;else{var g=Z;try{Z=r,nr(r)&&_n(r)}catch(f){Or(f,r,null,r.ctx)}finally{Z=g}}var c=r.first;if(c!==null){r=c;continue}}else n&to&&i.push(r);if(p===null){let f=r.parent;for(;f!==null;){if(t===f)break e;var h=f.next;if(h!==null){r=h;continue e}f=f.parent}}r=p}for(var m=0;m<i.length;m++)c=i[m],e.push(c),Co(c,e)}function Io(t){var e=dr,r=ft;try{Po();const n=[];dr=La,ft=n,Qt=!1,Wo(r);var i=t==null?void 0:t();return Ra(),(ft.length>0||n.length>0)&&Io(),St=0,Jt=null,i}finally{dr=e,ft=r}}function H(t){var e=t.f,r=(e&We)!==0;if(Z!==null&&!Ke){Be!==null&&Be.includes(t)&&da();var i=Z.deps;t.rv<mr&&(t.rv=mr,_e===null&&i!==null&&i[Ae]===t?Ae++:_e===null?_e=[t]:(!it||!_e.includes(t))&&_e.push(t))}else if(r&&t.deps===null&&t.effects===null){var n=t,s=n.parent;s!==null&&!(s.f&qe)&&(n.f^=qe)}return r&&(n=t,nr(n)&&vo(n)),t.v}function pe(t){return t&&H(t)}function Wt(t){var e=Ke;try{return Ke=!0,t()}finally{Ke=e}}const Ka=-7169;function Je(t,e){t.f=t.f&Ka|e}function Ya(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Et in t)$r(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&Et in r&&$r(r)}}}function $r(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let i in t)try{$r(t[i],e)}catch{}const r=sn(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const i=eo(r);for(let n in i){const s=i[n].get;if(s)try{s.call(t)}catch{}}}}}const Qa=["touchstart","touchmove"];function Ja(t){return Qa.includes(t)}let Dn=!1;function Xa(){Dn||(Dn=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function Za(t){var e=Z,r=J;Se(null),be(null);try{return t()}finally{Se(e),be(r)}}function $a(t,e,r,i=r){t.addEventListener(e,()=>Za(r));const n=t.__on_r;n?t.__on_r=()=>{n(),i(!0)}:t.__on_r=()=>i(!0),Xa()}const Oo=new Set,en=new Set;function Mt(t){for(var e=0;e<t.length;e++)Oo.add(t[e]);for(var r of en)r(t)}function lr(t){var v;var e=this,r=e.ownerDocument,i=t.type,n=((v=t.composedPath)==null?void 0:v.call(t))||[],s=n[0]||t.target,u=0,p=t.__root;if(p){var g=n.indexOf(p);if(g!==-1&&(e===document||e===window)){t.__root=e;return}var c=n.indexOf(e);if(c===-1)return;g<=c&&(u=g)}if(s=n[u]||t.target,s!==e){Qi(t,"currentTarget",{configurable:!0,get(){return s||r}});var h=Z,m=J;Se(null),be(null);try{for(var f,b=[];s!==null;){var w=s.assignedSlot||s.parentNode||s.host||null;try{var k=s["__"+i];if(k!==void 0&&!s.disabled)if(on(k)){var[P,...T]=k;P.apply(s,[t,...T])}else k.call(s,t)}catch(y){f?b.push(y):f=y}if(t.cancelBubble||w===e||w===null)break;s=w}if(f){for(let y of b)queueMicrotask(()=>{throw y});throw f}}finally{t.__root=e,delete t.currentTarget,Se(h),be(m)}}}function Bo(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function wr(t,e){var r=J;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function z(t,e){var r=(e&Sa)!==0,i=(e&Pa)!==0,n,s=!t.startsWith("<!>");return()=>{n===void 0&&(n=Bo(s?t:"<!>"+t),r||(n=Kt(n)));var u=i?document.importNode(n,!0):n.cloneNode(!0);if(r){var p=Kt(u),g=u.lastChild;wr(p,g)}else wr(u,u);return u}}function Ct(){var t=document.createDocumentFragment(),e=document.createComment(""),r=fn();return t.append(e,r),wr(e,r),t}function F(t,e){t!==null&&t.before(e)}let tn=!0;function de(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function es(t,e){return ts(t,e)}const At=new Map;function ts(t,{target:e,anchor:r,props:i={},events:n,context:s,intro:u=!0}){Ca();var p=new Set,g=m=>{for(var f=0;f<m.length;f++){var b=m[f];if(!p.has(b)){p.add(b);var w=Ja(b);e.addEventListener(b,lr,{passive:w});var k=At.get(b);k===void 0?(document.addEventListener(b,lr,{passive:w}),At.set(b,1)):At.set(b,k+1)}}};g(an(Oo)),en.add(g);var c=void 0,h=Na(()=>{var m=r??e.appendChild(fn());return Ye(()=>{if(s){me({});var f=oe;f.c=s}n&&(i.$$events=n),tn=u,c=t(m,i)||{},tn=!0,s&&ye()}),()=>{var w;for(var f of p){e.removeEventListener(f,lr);var b=At.get(f);--b===0?(document.removeEventListener(f,lr),At.delete(f)):At.set(f,b)}en.delete(g),m!==r&&((w=m.parentNode)==null||w.removeChild(m))}});return rs.set(c,h),c}let rs=new WeakMap;const zr=0,cr=1,Dr=2;function ns(t,e,r,i,n){var s=t,u=gt(),p=oe,g=fe,c,h,m,f=(u?ve:hr)(void 0),b=(u?ve:hr)(void 0),w=!1;function k(T,v){w=!0,v&&(be(P),Se(P),gr(p));try{T===cr&&i&&(h?Pt(h):h=Ye(()=>i(s,f))),T===Dr&&n&&(m?Pt(m):m=Ye(()=>n(s,b))),T!==zr&&c&&st(c,()=>c=null),T!==cr&&h&&st(h,()=>h=null),T!==Dr&&m&&st(m,()=>m=null)}finally{v&&(gr(null),Se(null),be(null),Io())}}var P=Bt(()=>{if(g!==(g=e())){if($i(g)){var T=g;w=!1,T.then(v=>{T===g&&(Tt(f,v),k(cr,!0))},v=>{if(T===g&&(Tt(b,v),k(Dr,!0),!n))throw b.v}),dn(()=>{w||k(zr,!0)})}else Tt(f,g),k(cr,!1);return()=>g=fe}})}function xe(t,e,r=!1){var i=t,n=null,s=null,u=fe,p=r?Wr:0,g=!1;const c=(m,f=!0)=>{g=!0,h(f,m)},h=(m,f)=>{u!==(u=m)&&(u?(n?Pt(n):f&&(n=Ye(()=>f(i))),s&&st(s,()=>{s=null})):(s?Pt(s):f&&(s=Ye(()=>f(i))),n&&st(n,()=>{n=null})))};Bt(()=>{g=!1,e(c),g||h(null,null)},p)}function Mo(t,e,r){var i=t,n=fe,s,u=gt()?ia:io;Bt(()=>{u(n,n=e())&&(s&&st(s),s=Ye(()=>r(i)))})}function Xt(t,e){return e}function os(t,e,r,i){for(var n=[],s=e.length,u=0;u<s;u++)pn(e[u].e,n,!0);var p=s>0&&n.length===0&&r!==null;if(p){var g=r.parentNode;Ia(g),g.append(r),i.clear(),ot(t,e[0].prev,e[s-1].next)}yo(n,()=>{for(var c=0;c<s;c++){var h=e[c];p||(i.delete(h.k),ot(t,h.prev,h.next)),Qe(h.e,!p)}})}function Zt(t,e,r,i,n,s=null){var u=t,p={items:new Map,first:null},g=(e&ao)!==0;if(g){var c=t;u=c.appendChild(fn())}var h=null,m=!1,f=fo(()=>{var b=r();return on(b)?b:b==null?[]:an(b)});Bt(()=>{var b=H(f),w=b.length;m&&w===0||(m=w===0,is(b,p,u,n,e,i,r),s!==null&&(w===0?h?Pt(h):h=Ye(()=>s(u)):h!==null&&st(h,()=>{h=null})),H(f))})}function is(t,e,r,i,n,s,u){var je,Re,Ze,ht;var p=(n&ha)!==0,g=(n&(cn|un))!==0,c=t.length,h=e.items,m=e.first,f=m,b,w=null,k,P=[],T=[],v,y,E,I;if(p)for(I=0;I<c;I+=1)v=t[I],y=s(v,I),E=h.get(y),E!==void 0&&((je=E.a)==null||je.measure(),(k??(k=new Set)).add(E));for(I=0;I<c;I+=1){if(v=t[I],y=s(v,I),E=h.get(y),E===void 0){var N=f?f.e.nodes_start:r;w=ss(N,e,w,w===null?e.first:w.next,v,y,I,i,n,u),h.set(y,w),P=[],T=[],f=w.next;continue}if(g&&as(E,v,I,n),E.e.f&De&&(Pt(E.e),p&&((Re=E.a)==null||Re.unfix(),(k??(k=new Set)).delete(E))),E!==f){if(b!==void 0&&b.has(E)){if(P.length<T.length){var Q=T[0],R;w=Q.prev;var $=P[0],le=P[P.length-1];for(R=0;R<P.length;R+=1)Kn(P[R],Q,r);for(R=0;R<T.length;R+=1)b.delete(T[R]);ot(e,$.prev,le.next),ot(e,w,$),ot(e,le,Q),f=Q,w=le,I-=1,P=[],T=[]}else b.delete(E),Kn(E,f,r),ot(e,E.prev,E.next),ot(e,E,w===null?e.first:w.next),ot(e,w,E),w=E;continue}for(P=[],T=[];f!==null&&f.k!==y;)f.e.f&De||(b??(b=new Set)).add(f),T.push(f),f=f.next;if(f===null)continue;E=f}P.push(E),w=E,f=E.next}if(f!==null||b!==void 0){for(var re=b===void 0?[]:an(b);f!==null;)f.e.f&De||re.push(f),f=f.next;var ce=re.length;if(ce>0){var ct=n&ao&&c===0?r:null;if(p){for(I=0;I<ce;I+=1)(Ze=re[I].a)==null||Ze.measure();for(I=0;I<ce;I+=1)(ht=re[I].a)==null||ht.fix()}os(e,re,ct,h)}}p&&dn(()=>{var bt;if(k!==void 0)for(E of k)(bt=E.a)==null||bt.apply()}),J.first=e.first&&e.first.e,J.last=w&&w.e}function as(t,e,r,i){i&cn&&Tt(t.v,e),i&un?Tt(t.i,r):t.i=r}function ss(t,e,r,i,n,s,u,p,g,c){var h=(g&cn)!==0,m=(g&ba)===0,f=h?m?hr(n):ve(n):n,b=g&un?ve(u):u,w={i:b,v:f,k:s,a:null,e:null,prev:r,next:i};try{return w.e=Ye(()=>p(t,f,b,c),lo),w.e.prev=r&&r.e,w.e.next=i&&i.e,r===null?e.first=w:(r.next=w,r.e.next=w.e),i!==null&&(i.prev=w,i.e.prev=w.e),w}finally{}}function Kn(t,e,r){for(var i=t.next?t.next.e.nodes_start:r,n=e?e.e.nodes_start:r,s=t.e.nodes_start;s!==i;){var u=Cr(s);n.before(s),s=u}}function ot(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function ls(t,e,r,i,n){var s=t,u="",p;Bt(()=>{u!==(u=e()??"")&&(p!==void 0&&(Qe(p),p=void 0),u!==""&&(p=Ye(()=>{var g=u+"",c=Bo(g);wr(Kt(c),c.lastChild),s.before(c)})))})}function cs(t,e,r,i,n){var p;var s=(p=e.$$slots)==null?void 0:p[r],u=!1;s===!0&&(s=e[r],u=!0),s===void 0||s(t,u?()=>i:i)}function us(t,e,r){Ir(()=>{var i=Wt(()=>e(t,r==null?void 0:r())||{});if(i!=null&&i.destroy)return()=>i.destroy()})}function fs(t,e){var r=t.__attributes??(t.__attributes={});r.value===(r.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function ue(t,e,r,i){var n=t.__attributes??(t.__attributes={});n[e]!==(n[e]=r)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[oa]=r),r==null?t.removeAttribute(e):typeof r!="string"&&ps(t).includes(e)?t[e]=r:t.setAttribute(e,r))}var Yn=new Map;function ps(t){var e=Yn.get(t.nodeName);if(e)return e;Yn.set(t.nodeName,e=[]);for(var r,i=t,n=Element.prototype;n!==i;){r=eo(i);for(var s in r)r[s].set&&e.push(s);i=sn(i)}return e}function gn(t,e,r){var i=t.__className,n=ds(e);(i!==n||lo)&&(e==null?t.removeAttribute("class"):t.className=n,t.__className=n)}function ds(t,e){return(t??"")+""}function pt(t,e,r,i){var n=t.__styles??(t.__styles={});n[e]!==r&&(n[e]=r,r==null?t.style.removeProperty(e):t.style.setProperty(e,r,""))}const vs=()=>performance.now(),ze={tick:t=>requestAnimationFrame(t),now:()=>vs(),tasks:new Set};function qo(){const t=ze.now();ze.tasks.forEach(e=>{e.c(t)||(ze.tasks.delete(e),e.f())}),ze.tasks.size!==0&&ze.tick(qo)}function _s(t){let e;return ze.tasks.size===0&&ze.tick(qo),{promise:new Promise(r=>{ze.tasks.add(e={c:t,f:r})}),abort(){ze.tasks.delete(e)}}}function ur(t,e){t.dispatchEvent(new CustomEvent(e))}function gs(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Qn(t){const e={},r=t.split(";");for(const i of r){const[n,s]=i.split(":");if(!n||s===void 0)break;const u=gs(n.trim());e[u]=s.trim()}return e}const hs=t=>t;function Me(t,e,r,i){var n=(t&Ea)!==0,s=(t&Ta)!==0,u=n&&s,p=(t&xa)!==0,g=u?"both":n?"in":"out",c,h=e.inert,m=e.style.overflow,f,b;function w(){var y=Z,E=J;Se(null),be(null);try{return c??(c=r()(e,(i==null?void 0:i())??{},{direction:g}))}finally{Se(y),be(E)}}var k={is_global:p,in(){var y;if(e.inert=h,!n){b==null||b.abort(),(y=b==null?void 0:b.reset)==null||y.call(b);return}s||f==null||f.abort(),ur(e,"introstart"),f=rn(e,w(),b,1,()=>{ur(e,"introend"),f==null||f.abort(),f=c=void 0,e.style.overflow=m})},out(y){if(!s){y==null||y(),c=void 0;return}e.inert=!0,ur(e,"outrostart"),b=rn(e,w(),f,0,()=>{ur(e,"outroend"),y==null||y()})},stop:()=>{f==null||f.abort(),b==null||b.abort()}},P=J;if((P.transitions??(P.transitions=[])).push(k),n&&tn){var T=p;if(!T){for(var v=P.parent;v&&v.f&Wr;)for(;(v=v.parent)&&!(v.f&Sr););T=!v||(v.f&ro)!==0}T&&Ir(()=>{Wt(()=>k.in())})}}function rn(t,e,r,i,n){var s=i===1;if(Zi(e)){var u,p=!1;return dn(()=>{if(!p){var P=e({direction:s?"in":"out"});u=rn(t,P,r,i,n)}}),{abort:()=>{p=!0,u==null||u.abort()},deactivate:()=>u.deactivate(),reset:()=>u.reset(),t:()=>u.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return n(),{abort:Dt,deactivate:Dt,reset:Dt,t:()=>i};const{delay:g=0,css:c,tick:h,easing:m=hs}=e;var f=[];if(s&&r===void 0&&(h&&h(0,1),c)){var b=Qn(c(0,1));f.push(b,b)}var w=()=>1-i,k=t.animate(f,{duration:g});return k.onfinish=()=>{var P=(r==null?void 0:r.t())??1-i;r==null||r.abort();var T=i-P,v=e.duration*Math.abs(T),y=[];if(v>0){var E=!1;if(c)for(var I=Math.ceil(v/16.666666666666668),N=0;N<=I;N+=1){var Q=P+T*m(N/I),R=Qn(c(Q,1-Q));y.push(R),E||(E=R.overflow==="hidden")}E&&(t.style.overflow="hidden"),w=()=>{var $=k.currentTime;return P+T*m($/v)},h&&_s(()=>{if(k.playState!=="running")return!1;var $=w();return h($,1-$),!0})}k=t.animate(y,{duration:v,fill:"forwards"}),k.onfinish=()=>{w=()=>i,h==null||h(i,1-i),n()}},{abort:()=>{k&&(k.cancel(),k.effect=null,k.onfinish=Dt)},deactivate:()=>{n=Dt},reset:()=>{i===0&&(h==null||h(1,0))},t:()=>w()}}function bs(t,e,r=e){var i=gt();$a(t,"input",n=>{var s=n?t.defaultValue:t.value;if(s=Kr(t)?Yr(s):s,r(s),i&&s!==(s=e())){var u=t.selectionStart,p=t.selectionEnd;t.value=s??"",p!==null&&(t.selectionStart=u,t.selectionEnd=Math.min(p,t.value.length))}}),Wt(e)==null&&t.value&&r(Kr(t)?Yr(t.value):t.value),go(()=>{var n=e();Kr(t)&&n===Yr(t.value)||t.type==="date"&&!n&&!t.value||n!==t.value&&(t.value=n??"")})}function Kr(t){var e=t.type;return e==="number"||e==="range"}function Yr(t){return t===""?null:+t}function ms(t=!1){const e=oe,r=e.l.u;if(!r)return;let i=()=>Ya(e.s);if(t){let n=0,s={};const u=Pe(()=>{let p=!1;const g=e.s;for(const c in g)g[c]!==s[c]&&(s[c]=g[c],p=!0);return p&&n++,n});i=()=>H(u)}r.b.length&&qa(()=>{Jn(e,i),Xr(r.b)}),Yt(()=>{const n=Wt(()=>r.m.map(ea));return()=>{for(const s of n)typeof s=="function"&&s()}}),r.a.length&&Yt(()=>{Jn(e,i),Xr(r.a)})}function Jn(t,e){if(t.l.s)for(const r of t.l.s)H(r);e()}let fr=!1;function ys(t){var e=fr;try{return fr=!1,[t(),fr]}finally{fr=e}}function Xn(t){for(var e=J,r=J;e!==null&&!(e.f&(Ne|It));)e=e.parent;try{return be(e),t()}finally{be(r)}}function hn(t,e,r,i){var Q;var n=(r&ma)!==0,s=!tr||(r&ya)!==0,u=(r&Aa)!==0,p=(r&ka)!==0,g=!1,c;u?[c,g]=ys(()=>t[e]):c=t[e];var h=Et in t||na in t,m=u&&(((Q=kt(t,e))==null?void 0:Q.set)??(h&&e in t&&(R=>t[e]=R)))||void 0,f=i,b=!0,w=!1,k=()=>(w=!0,b&&(b=!1,p?f=Wt(i):f=i),f);c===void 0&&i!==void 0&&(m&&s&&ua(),c=k(),m&&m(c));var P;if(s)P=()=>{var R=t[e];return R===void 0?k():(b=!0,w=!1,R)};else{var T=Xn(()=>(n?Pe:fo)(()=>t[e]));T.f|=ta,P=()=>{var R=H(T);return R!==void 0&&(f=void 0),R===void 0?f:R}}if(!(r&wa))return P;if(m){var v=t.$$legacy;return function(R,$){return arguments.length>0?((!s||!$||v||g)&&m($?P():R),R):P()}}var y=!1,E=!1,I=hr(c),N=Xn(()=>Pe(()=>{var R=P(),$=H(I);return y?(y=!1,E=!0,$):(E=!1,I.v=R)}));return n||(N.equals=ln),function(R,$){if(arguments.length>0){const le=$?H(N):s&&u?ge(R):R;return N.equals(le)||(y=!0,te(I,le),w&&f!==void 0&&(f=le),Wt(()=>H(N))),R}return H(N)}}const ws="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ws);const As="/ton-coeur-app/tap/heart-0.png",ks="/ton-coeur-app/tap/heart-1.png",Es="/ton-coeur-app/tap/heart-2.png",Ts="/ton-coeur-app/tap/heart-3.png",xs="/ton-coeur-app/tap/heart-4.png",Ss="/ton-coeur-app/tap/heart-5.png",Ps="/ton-coeur-app/tap/heart-6.png",Ws="/ton-coeur-app/tap/heart-404.png",No="/ton-coeur-app/tap/heart-7.jpg",Cs="/ton-coeur-app",Ge=Cs,Is=[0,132,533,2025,8177,24985,1e5,49766400],nt=Is,Oe={0:As,1:ks,2:Es,3:Ts,4:xs,5:Ss,6:Ps,7:No,404:Ws},Ar={0:{background:{linearGradient:["#5e1fa5","#250c42"],url:`${Ge}/page/background-2.2.png`},postcard:{image:Oe[0],header:"Just to tap ",animation:!1,description:["A simple touch can create","something magical","Love is waiting!"]}},1:{background:{linearGradient:["#B53259","#290727"],url:`${Ge}/page/background-2.2.png`},postcard:{image:Oe[1],header:"Gentle warmth",animation:!1,description:["The spark of something special","a quiet reminder","that someone cares"]}},2:{background:{linearGradient:["#856CFF","#191162"],url:`${Ge}/page/background-2.2.png`},postcard:{image:Oe[2],header:"Tender admiration",animation:"beat",description:["Its soft glow of admiration,","respect and quiet affection"]}},3:{background:{linearGradient:["#5e1fa5","#250c42"],url:`${Ge}/page/background-2.2.png`},postcard:{image:Oe[3],header:"Passionate affection",animation:"beat",description:["A deep, fiery love","that ignites every moment"]}},4:{background:{linearGradient:["#F07C93","#F07C93"],url:`${Ge}/page/background-1.2.png`},postcard:{image:Oe[4],header:"Irresistible love",animation:"fly",description:["A magnetic pull","a love that stays with you","no matter what"]}},5:{background:{linearGradient:["#FCD9EC","#FCD9EC"],url:`${Ge}/page/background-2.2.png`},postcard:{image:Oe[5],header:"Unbreakable bond",animation:"scale",description:["An eternal connection","beyond time and distance"]}},6:{background:{linearGradient:["#FCD9EC","#F07C93"],url:`${Ge}/page/background-2.2.png`},postcard:{image:Oe[6],header:"Pure devotion",animation:"scale",description:["A promise, a forever, a love","that asks for nothing in return","but gives everything"]}},404:{background:{linearGradient:["#2C0855","#000000"],url:`${Ge}/page/background-2.2.png`},postcard:{image:Oe[404],header:"404",animation:"scale",description:["Here is empty page :(","You'll find your present","But not here"]}},7:{background:{linearGradient:["#DAE478","#E97B25"],url:`${Ge}/page/background-1.2.png`},postcard:{image:No,header:"Here we are",animation:!1,description:["49,766,400 we were together","and we will be"]}}},dt={archive:{header:"Sent Gifts",description:"Here you can find the gifts you sent",text:["There's nothing to see here...","Keep tapping, send gifts, and soon you will see the sent gifts here!"]},about:{header:"About TonCur",text:"Sometimes, words are too much, and silence is too little. Share your feelings  exchange your taps for valentines.",sub:"The rules are simple:",list:[" Tap as many times as the heart you want to send"," Each heart represents a feeling, growing deeper with every tap"," Reach the next level of emotions and unlock a new connection!"]}};var $t,er,kr,Er,Tr;class Os{constructor(e,r,i){ee(this,"__store");ee(this,"__blackbox");ee(this,"__register");wt(this,$t,at(null));wt(this,er,at(null));wt(this,kr,Pe(()=>this.__calcCount(this.__snapshot)));wt(this,Er,Pe(()=>this.__calcGrade(this.__click)));wt(this,Tr,Pe(()=>this.__calcTarget(this.__grade)));this.__store=i,this.__blackbox=e,this.__register=r,this.__init()}get __genesis(){return H(rt(this,$t))}set __genesis(e){te(rt(this,$t),ge(e))}get __snapshot(){return H(rt(this,er))}set __snapshot(e){te(rt(this,er),ge(e))}get __click(){return H(rt(this,kr))}get __grade(){return H(rt(this,Er))}get __target(){return H(rt(this,Tr))}async __init(){var e=await this.__store.getItem("genesis"),r=await this.__store.getItem("snapshot");if(e&&r)this.__genesis=await this.__store.getItem("genesis")||null,this.__snapshot=await this.__store.getItem("snapshot")||null;else{const[i,n]=await this.__blackbox.genesis();this.__genesis=i,this.__snapshot=n,this.__store.setItem("genesis",i),this.__store.setItem("snapshot",n)}}__calcCount(e){return e?this.__blackbox.parse(e).nonce:0}__calcGrade(e){var r=0;return nt.find((i,n)=>!nt[n+1]||e<nt[n+1]?(r=n,!0):!1),r}__calcTarget(e){return e+1<nt.length?nt[e+1]:nt[nt.length-1]}get clicked(){return this.__click}get grade(){return this.__grade}get target(){return this.__target}async click(e){var r=await this.__blackbox.snapshot({clientX:e.clientX,clientY:e.clientY},this.__snapshot);this.__snapshot=r,await sessionStorage.setItem("snapshot",this.__snapshot)}async gift(e,r){try{const i=await this.__store.getItem("genesis"),n=await this.__store.getItem("snapshot");if(!i||!n)throw await this.__init(),new Error("genesis or snapshot is missing from the store. try again");const s=this.__blackbox.parse(n),u=await this.__store.getItem(s.genesis);if(u)return u;const p={genesis:i,snapshot:n,from:e,to:r,key:this.__grade},g=await this.__register.payment(p);if(!g)throw new Error("error while created signature");await this.__store.setItem(s.genesis,g);const[c,h]=await this.__blackbox.genesis();return this.__genesis=c,this.__snapshot=h,await this.__store.setItem("genesis",c),await this.__store.setItem("snapshot",h),g}catch{return null}}async validate(e){try{var r=await this.__register.validate(e);return{count:isNaN(r.count)?0:r.count,grade:isNaN(r.grade)?0:r.grade,from:r.from??"",to:r.to??""}}catch{return{count:0,grade:404,from:"",to:""}}}}$t=new WeakMap,er=new WeakMap,kr=new WeakMap,Er=new WeakMap,Tr=new WeakMap;const Bs=128;class Ms{constructor(e,r,i){ee(this,"__crypto");ee(this,"__validator");ee(this,"__parser");this.__crypto=e,this.__validator=r,this.__parser=i}async genesis(){var e=this.__crypto.randomBytes(Bs),r=this.__crypto.pack(e),i=await this.__crypto.digest(e),n=this.__crypto.pack(i),s=await this.__validator.init(n);return[r,s]}async snapshot(e,r){return this.__validator.snap(e,r)}parse(e){return this.__parser.parse(e)}setup(e){return this.__parser.setup(e)}}const qs=25;class Ns{constructor(e){ee(this,"__parser");this.__parser=e}async init(e){const r={genesis:e,eventData:{clientX:0,clientY:0},timestamp:Date.now(),nonce:0};return this.__parser.setup(r)}async snap(e,r){const i=this.__parser.parse(r),n=Date.now();if(n-i.timestamp<qs)return r;const s=i.nonce+1,u={genesis:i.genesis,eventData:e,timestamp:n,nonce:s},p=JSON.stringify(u);return window.btoa(p)}}class js{parse(e){var r=window.atob?window.atob(e):Buffer.from(e,"base64").toString();return JSON.parse(r)}setup(e){var r=JSON.stringify(e);return window.btoa?window.btoa(r):Buffer.from(r).toString("base64")}}const Rs=async t=>window.crypto.subtle.digest("SHA-256",t),jo=t=>window.crypto.getRandomValues(new Uint8Array(t)),Ls=t=>window.btoa(String.fromCharCode.apply(null,new Uint8Array(t))),Fs=t=>{const e=window.atob(t),r=new ArrayBuffer(e.length),i=new Uint8Array(r);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return r},Us=async()=>window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),Hs=async t=>window.crypto.subtle.exportKey("raw",t),Gs=async t=>window.crypto.subtle.importKey("raw",t,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),Ro=()=>jo(12),Lo=t=>new TextEncoder().encode(t),Fo=t=>new TextDecoder().decode(t),Vs=async(t,e)=>{const r=Lo(t),i=Ro();return{cipher:await window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},e,r),iv:i}},zs=async(t,e,r)=>{const i=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},e,t);return Fo(i)};class Ds{constructor(){ee(this,"randomBytes",jo);ee(this,"pack",Ls);ee(this,"unpack",Fs);ee(this,"digest",Rs);ee(this,"generateKey",Us);ee(this,"importKey",Gs);ee(this,"exportKey",Hs);ee(this,"generateIv",Ro);ee(this,"encode",Lo);ee(this,"decode",Fo);ee(this,"encrypt",Vs);ee(this,"decrypt",zs);if(!window.crypto)throw new Error("Your browser is not support this function! Please update")}}class Ks{constructor(){ee(this,"__origin");if(window.sessionStorage)this.__origin=window.sessionStorage;else{const e=new Map;this.__origin={key:r=>Object.keys(e)[r],setItem:e.set,getItem:e.get,length:e.size,removeItem:e.delete,clear:e.clear}}}async setItem(e,r){return this.__origin.setItem(e,r)}async getItem(e){return this.__origin.getItem(e)}}class Ys{constructor(e,r,i){ee(this,"__crypto");ee(this,"__token");ee(this,"__parser");this.__crypto=r,this.__token=e,this.__parser=i}async payment(e){try{var r=await this.__verify(e);if(!r)throw new Error("Data is not valid. Please check the hashsum!");var i=this.__crypto.unpack(this.__token),n=await this.__crypto.importKey(i),s=this.__makeDataString(e),u=await this.__crypto.encrypt(s,n),p=window.btoa(`${this.__crypto.pack(u.cipher)},${this.__crypto.pack(u.iv)}`);return p}catch(g){return console.error(g),null}}async __verify(e){try{const{genesis:s,snapshot:u}=e,p=this.__parser.parse(u);var r=this.__crypto.unpack(s),i=await this.__crypto.digest(new Uint8Array(r)),n=this.__crypto.pack(i);return n===p.genesis}catch(s){return console.error(s),!1}}__makeDataString(e){var r=this.__parser.parse(e.snapshot);return`${e.key},${r.nonce},${e.from},${e.to}`}__parseDataString(e){var r=e.split(",");return{grade:Number(r[0]),count:Number(r[1]),from:r[2],to:r[3]}}async validate(e){try{var r=this.__crypto.unpack(this.__token),i=await this.__crypto.importKey(r),n=window.atob(e),[s,u]=n.split(","),p=this.__crypto.unpack(s),g=new Uint8Array(this.__crypto.unpack(u)),c=await this.__crypto.decrypt(p,i,g);return this.__parseDataString(c)}catch(h){return console.error(h),null}}}const Qs="8Ru4xvlcei8KNWEpCesfgduOv2FQEORCPqPsR90ICDg=",Uo=new Ds;var Js=new Ks;const bn=new js,Xs=new Ns(bn),Ho=new Ms(Uo,Xs,bn),Go=new Ys(Qs,Uo,bn),ke=new Os(Ho,Go,Js);async function Zs(){const t=await ke.gift("@collusioner","@detka229");t&&await ke.validate(t);const[e,r]=await Ho.genesis(),i=Go.payment({genesis:e,snapshot:r,from:"@collusioner",to:"@shurochka1396",key:7});console.log("sogned",i)}Zs();ga();var $s=z('<p class="about-list__topic svelte-byycdl"> </p>'),el=z('<section class="about svelte-byycdl"><header class="about__header svelte-byycdl"><h3> </h3></header> <div class="about__content svelte-byycdl"><div class="about-text svelte-byycdl"><div class="about-text__text svelte-byycdl"><span class="about-span svelte-byycdl"> </span></div> <div class="about-text__sub svelte-byycdl"><span class="about-span svelte-byycdl"> </span></div> <div class="about-text__list svelte-byycdl"><div class="about-list svelte-byycdl"></div></div></div></div></section>');function tl(t,e){me(e,!1),ms();var r=el(),i=A(r),n=A(i),s=A(n),u=V(i,2),p=A(u),g=A(p),c=A(g),h=A(c),m=V(g,2),f=A(m),b=A(f),w=V(m,2),k=A(w);Zt(k,5,()=>dt.about.list,Xt,(P,T)=>{var v=$s(),y=A(v);se(()=>de(y,H(T))),F(P,v)}),se(()=>{de(s,dt.about.header),de(h,dt.about.text),de(b,dt.about.sub)}),F(t,r),ye()}var rl=z('<img class="gift-img avatar-img svelte-1ms0meu" alt="avatar">'),nl=z('<div class="avatar-img mock svelte-1ms0meu"></div>'),ol=z('<div class="gift svelte-1ms0meu"><div class="gift__image svelte-1ms0meu"><img class="gift-img svelte-1ms0meu" alt="gift"></div> <div class="gift__avatar svelte-1ms0meu"><!></div></div>'),il=z("<p> </p>"),al=z('<div class="nothing-text svelte-1ms0meu"></div>'),sl=z('<section class="archive svelte-1ms0meu"><header class="archive__header"><h3> </h3></header> <div class="archive__description svelte-1ms0meu"><p><!></p></div> <div class="archive__content svelte-1ms0meu"><div class="gift-history svelte-1ms0meu"><!></div></div></section>');function ll(t,e){me(e,!0);let r=hn(e,"items",3,null);var i=sl(),n=A(i),s=A(n),u=A(s),p=V(n,2),g=A(p),c=A(g);ls(c,()=>dt.archive.description);var h=V(p,2),m=A(h),f=A(m);{var b=k=>{var P=Ct(),T=lt(P);Zt(T,17,r,Xt,(v,y)=>{var E=ol(),I=A(E),N=A(I),Q=V(I,2),R=A(Q);{var $=re=>{var ce=rl();se(()=>ue(ce,"src",H(y).avatar)),F(re,ce)},le=re=>{var ce=nl();F(re,ce)};xe(R,re=>{H(y).avatar?re($):re(le,!1)})}se(()=>ue(N,"src",Oe[H(y).grade])),F(v,E)}),F(k,P)},w=k=>{var P=al();Zt(P,21,()=>dt.archive.text,Xt,(T,v)=>{var y=il(),E=A(y);se(()=>de(E,H(v))),F(T,y)}),F(k,P)};xe(f,k=>{r()?k(b):k(w,!1)})}se(()=>de(u,dt.archive.header)),F(t,i),ye()}const cl="/ton-coeur-app/nav/question.png",ul="/ton-coeur-app/nav/question-red.png",Vo="/ton-coeur-app/button/hearts.png";var fl=(t,e)=>e.open("about"),pl=z('<span class="count-text green-text scaling svelte-1d3xe8d"> </span>'),dl=z('<span class="count-text svelte-1d3xe8d"> </span> <span class="count-text svelte-1d3xe8d">/</span> <span class="count-text red-text svelte-1d3xe8d"> </span>',1),vl=z('<div class="avatar svelte-1d3xe8d"></div>'),_l=z('<img class="avatar svelte-1d3xe8d" alt="avatar">'),gl=z('<nav class="nav-panel svelte-1d3xe8d"><div class="nav-panel__buttons"><button class="nav-img svelte-1d3xe8d"><img width="24px" height="24px" class="question-img svelte-1d3xe8d" alt="question"></button></div> <div class="nav-panel__userinfo"><div class="count svelte-1d3xe8d"><!> <img class="count-img svelte-1d3xe8d" alt="count hearts"></div> <!></div></nav>');function hl(t,e){me(e,!0);let r=Pe(()=>e.state==="about"?ul:cl),i={src:null};try{i.src=_t.initDataUnsafe.user.photo_url}catch{i.src=null}var n=gl(),s=A(n),u=A(s);u.__click=[fl,e];var p=A(u),g=V(s,2),c=A(g),h=A(c);{var m=T=>{var v=pl(),y=A(v);se(()=>de(y,e.count)),F(T,v)},f=T=>{var v=dl(),y=lt(v),E=A(y),I=V(y,4),N=A(I);se(()=>{de(E,e.count),de(N,e.target)}),F(T,v)};xe(h,T=>{e.grade>=nt.length-1?T(m):T(f,!1)})}var b=V(h,2);ue(b,"src",Vo);var w=V(c,2);{var k=T=>{var v=vl();F(T,v)},P=T=>{var v=_l();se(()=>ue(v,"src",i.src)),F(T,v)};xe(w,T=>{i.src===null?T(k):T(P,!1)})}se(()=>ue(p,"src",H(r))),F(t,n),ye()}Mt(["click"]);function bl(t,e){e.open("")}var ml=z('<section class="popup-window some-dark-2-container svelte-xbtbq1"><button class="btn-unset close-button svelte-xbtbq1">click me</button> <div class="popup-window__content svelte-xbtbq1"><!></div></section>');function Qr(t,e){me(e,!0);var r=ml(),i=A(r);i.__click=[bl,e];var n=V(i,2),s=A(n);cs(s,e,"content",{}),F(t,r),ye()}Mt(["click"]);const yl=t=>t;function wl(t){const e=t-1;return e*e*e+1}function Zn(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function nn(t,{delay:e=0,duration:r=400,easing:i=yl}={}){const n=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:i,css:s=>`opacity: ${s*n}`}}function vt(t,{delay:e=0,duration:r=400,easing:i=wl,x:n=0,y:s=0,opacity:u=0}={}){const p=getComputedStyle(t),g=+p.opacity,c=p.transform==="none"?"":p.transform,h=g*(1-u),[m,f]=Zn(n),[b,w]=Zn(s);return{delay:e,duration:r,easing:i,css:(k,P)=>`
			transform: ${c} translate(${(1-k)*m}${f}, ${(1-k)*b}${w});
			opacity: ${g-h*P}`}}const Al="A simple touch can create something magical. Just to click and gift ",kl="TonCur Mini Telegram App",zo="https://t.me/share/url?url=",Do="https://t.me/toncoeurbot/toncoeur",$n="https://t.me/";var El=z("<p> </p>"),Tl=z('<div class="postcard__footer"><footer class="postcard-footer svelte-i5kyn7"><article class="postcard-footer__from svelte-i5kyn7"><div class="gift-sign svelte-i5kyn7"><p class="gift-title svelte-i5kyn7">from:</p> <p class="gift-mailer svelte-i5kyn7"><a class="a-link svelte-i5kyn7" target="_blank"> </a></p></div></article> <article class="postcard-footer__to svelte-i5kyn7"><div class="gift-sign svelte-i5kyn7"><p class="gift-title svelte-i5kyn7">to:</p> <p class="gift-mailer svelte-i5kyn7"><a class="a-link svelte-i5kyn7" target="_blank"> </a></p></div></article></footer></div>'),xl=z('<div class="postcard some-dark-container svelte-i5kyn7"><div class="postcard__header svelte-i5kyn7"><h3> </h3></div> <div class="postcard__description svelte-i5kyn7"></div> <div class="postcard__image svelte-i5kyn7"><div></div></div> <!></div>');function Ko(t,e){me(e,!0);var r=hn(e,"viewMode",3,"view"),i=xl(),n=A(i),s=A(n),u=A(s),p=V(n,2);Zt(p,21,()=>e.postcardInfo.description,Xt,(f,b)=>{var w=El(),k=A(w);se(()=>de(k,H(b))),F(f,w)});var g=V(p,2),c=A(g),h=V(g,2);{var m=f=>{var b=Tl(),w=A(b),k=A(w),P=A(k),T=V(A(P),2),v=A(T),y=A(v),E=V(k,2),I=A(E),N=V(A(I),2),Q=A(N),R=A(Q);se(($,le)=>{ue(v,"href",$),de(y,e.postcardInfo.from),ue(Q,"href",le),de(R,e.postcardInfo.to)},[()=>`${$n}${e.postcardInfo.from.substr(1)}`,()=>`${$n}${e.postcardInfo.to.substr(1)}`]),F(f,b)};xe(h,f=>{r()==="view"&&e.postcardInfo.from&&e.postcardInfo.to&&f(m)})}se(()=>{de(u,e.postcardInfo.header),gn(c,`postcard-image animation-${e.postcardInfo.animation??""} svelte-i5kyn7`),ue(c,"style",`background-image: url(${e.postcardInfo.image??""})`)}),F(t,i),ye()}const Sl="/ton-coeur-app/button/arrow.png";var Pl=(t,e)=>{e.open("share")},Wl=z('<button class="send-button some-dark-container svelte-1f2e5n5"><article class="send-button__left-slot svelte-1f2e5n5"><img class="slot-image svelte-1f2e5n5" alt="hearts"></article> <article class="send-button__middle-slot svelte-1f2e5n5"><h3 class="send-gift-header">SEND GIFT</h3> <p class="send-gift-title svelte-1f2e5n5">share your result</p></article> <article class="send-button__right-slot svelte-1f2e5n5"><img class="slot-image arrow-image-pad svelte-1f2e5n5" alt="send"></article></button>');function Cl(t,e){me(e,!0);const r={y:150,duration:1e3};var i=Wl();i.__click=[Pl,e];var n=A(i),s=A(n);ue(s,"src",Vo);var u=V(n,4),p=A(u);ue(p,"src",Sl),Me(3,i,()=>vt,()=>r),F(t,i),ye()}Mt(["click"]);var Il=z("<div></div>");function Yo(t,e){var r=Il();us(r,i=>{var n;return(n=e.listeners)==null?void 0:n.call(e,i)}),se(()=>gn(r,`tap-area level-${e.grade??""} disable-zoom svelte-1fc9u8f`)),F(t,r)}const Ol="/ton-coeur-app/effect/vecteezy_red-heart-icon_45925862.png";var Bl=z('<img class="heart svelte-zp9mvk" alt="heart fly">');function Qo(t,e){const r=hn(e,"flyParams",19,()=>({y:-150,duration:500}));var i=Ct(),n=lt(i);Zt(n,17,()=>e.hearts,Xt,(s,u)=>{var p=Bl();ue(p,"src",Ol),se(()=>{pt(p,"--width",`${H(u).w??""}px`),pt(p,"--height",`${H(u).h??""}px`),pt(p,"--top",`calc(${H(u).y??""}px - ${H(u).h/2}px)`),pt(p,"--left",`calc(${H(u).x??""}px - ${H(u).w/2}px)`)}),Me(2,p,()=>vt,r),F(s,p)}),F(t,i)}var Ml=z("<div><!></div>"),ql=z('<div class="tap-content no-select svelte-189jc4c"><div class="tap-content__window svelte-189jc4c"><!> <!></div> <div class="tap-content__button svelte-189jc4c"><!></div> <!></div>');function Nl(t,e){const r={x:-100,duration:1e3},i={x:100,duration:1e3},n="tap";var s=ql(),u=A(s),p=A(u);Mo(p,()=>e.grade,b=>{var w=Ml(),k=A(w);Ko(k,{viewMode:n,get postcardInfo(){return e.postcardInfo}}),se(()=>gn(w,`motion ${(e.transform&&"transformed")??""} svelte-189jc4c`)),Me(1,w,()=>vt,()=>r),Me(2,w,()=>vt,()=>i),F(b,w)});var g=V(p,2);Yo(g,{get listeners(){return e.listeners},get grade(){return e.grade}});var c=V(u,2),h=A(c);{var m=b=>{Cl(b,{get open(){return e.open}})};xe(h,b=>{e.grade>0&&b(m)})}var f=V(c,2);Qo(f,{get hearts(){return e.hearts}}),F(t,s)}var jl=z('<div class="background-image svelte-1ew1j4p"></div>');function Jo(t,e){me(e,!0);var r=Ct(),i=lt(r);Mo(i,()=>e.background,n=>{var s=jl();se(()=>{pt(s,"--gradient-left",e.background.linearGradient[0]),pt(s,"--gradient-right",e.background.linearGradient[1]),pt(s,"--background-url",`url(${e.background.url??""})`)}),Me(1,s,()=>nn),Me(2,s,()=>nn),F(n,s)}),F(t,r),ye()}function Rl(t,e,r){navigator.share?navigator.share({title:e,text:r,url:t}).then(()=>{}).catch(i=>console.error("Error sharing",i)):alert("Share not supported on this browser, do it the old way.")}async function Ll(t,e,r,i){if(te(e,""),pe(r).length<6){te(e,"Min length of nickname is 5!");return}if(pe(i).length>32||pe(r).length>32){te(e,"Max length of nickname is 32!");return}pe(r)[0]!=="@"&&te(r,`@${pe(r)}`);const n=await ke.gift(pe(i),pe(r)),s=`?startapp=${n}`,u=`${zo}${Do}${s}`;console.log(n),console.log(u);try{_t.openTelegramLink(u)}catch{Rl(u,kl,Al)}}var Fl=z('<div class="nickname-form svelte-xbl33u"><div class="nickname-form__description"></div> <div class="nickname-form__inputs"><div class="postcard-footer svelte-xbl33u"><article class="postcard-footer__from svelte-xbl33u"><div class="gift-sign svelte-xbl33u"><label class="gift-title svelte-xbl33u">from:</label> <input required disabled class="input-mailer svelte-xbl33u"></div></article> <article class="postcard-footer__to svelte-xbl33u"><div class="gift-sign svelte-xbl33u"><label class="gift-title svelte-xbl33u">to:</label> <input required placeholder="@nickname from telegram" class="input-mailer svelte-xbl33u"></div></article></div></div> <div class="nickname-form__alert svelte-xbl33u"> </div> <div class="nickname-form__confirm"><button class="confirm-gift svelte-xbl33u">confirm</button></div></div>');function Ul(t,e){me(e,!0);var r=at(void 0);te(r,ge(s()));var i=at(""),n=at("");function s(){try{return`@${_t.initDataUnsafe.user.username}`}catch{return"-"}}var u=Fl(),p=V(A(u),2),g=A(p),c=A(g),h=A(c),m=A(h),f=V(m,2),b=V(c,2),w=A(b),k=A(w),P=V(k,2),T=V(p,2),v=A(T),y=V(T,2),E=A(y);E.__click=[Ll,n,i,r],se(()=>{ue(m,"for",pe(r)),ue(f,"name",pe(r)),fs(f,pe(r)),ue(k,"for",pe(i)),ue(P,"name",pe(i)),de(v,pe(n))}),bs(P,()=>pe(i),I=>te(i,I)),F(t,u),ye()}Mt(["click"]);var Hl=z(`<section class="share svelte-1krnrs9"><div class="share__title svelte-1krnrs9"><h3>Preparing gift...</h3></div> <div class="share__description svelte-1krnrs9"><p>Please enter the <strong class="strong svelte-1krnrs9">nickname</strong> of the person
      who will <strong class="strong svelte-1krnrs9">receive</strong> the gift</p></div> <div class="share__form svelte-1krnrs9"><div class="share-form"><!></div></div></section>`);function Gl(t){var e=Hl(),r=V(A(e),4),i=A(r),n=A(i);Ul(n,{}),F(t,e)}var Vl=z('<section class="tap-page__popup svelte-kan4zg"><!></section>'),zl=z('<section class="tap-page__popup svelte-kan4zg"><!></section>'),Dl=z('<section class="tap-page__popup svelte-kan4zg"><!></section>'),Kl=z('<main class="tap-page svelte-kan4zg"><!> <header class="tap-page__header svelte-kan4zg"><!></header> <section class="tap-page__content svelte-kan4zg"><!></section> <!></main>');function Yl(t,e){me(e,!0);var r={y:1e3,duration:1e3},i=ge([]),n=at(!1);const s=Pe(()=>({...Ar[ke.grade].postcard,image:Oe[ke.grade]}));let u=ge({state:""}),p=N=>{u.state=N};Yt(()=>{ke.clicked===0?u.state="about":u.state=""});function g(N={x:0,y:0,w:64,h:64}){i.push(N)}Yt(()=>{i.shift()});function c(N){te(n,!1)}function h(N){te(n,!1)}function m(N){ke.click(N),te(n,!0),g({x:N.clientX,y:N.clientY,w:64,h:64})}function f(N){N.addEventListener("pointerdown",m),N.addEventListener("pointerup",c),N.addEventListener("pointerleave",h)}var b=Kl(),w=A(b);Jo(w,{get background(){return Ar[ke.grade].background}});var k=V(w,2),P=A(k);hl(P,{get state(){return u.state},open:p,get count(){return ke.clicked},get target(){return ke.target},get grade(){return ke.grade}});var T=V(k,2),v=A(T);Nl(v,{open:p,listeners:f,get transform(){return pe(n)},get postcardInfo(){return H(s)},get grade(){return ke.grade},get hearts(){return i}});var y=V(T,2);{var E=N=>{var Q=Vl(),R=A(Q);Qr(R,{open:p,$$slots:{content:($,le)=>{ll($,{slot:"content",items:null})}}}),Me(3,Q,()=>vt,()=>r),F(N,Q)},I=N=>{var Q=Ct(),R=lt(Q);{var $=re=>{var ce=zl(),ct=A(ce);Qr(ct,{open:p,$$slots:{content:(je,Re)=>{tl(je,{slot:"content"})}}}),Me(3,ce,()=>vt,()=>r),F(re,ce)},le=re=>{var ce=Ct(),ct=lt(ce);{var je=Re=>{var Ze=Dl(),ht=A(Ze);Qr(ht,{open:p,$$slots:{content:(bt,Ce)=>{Gl(bt)}}}),Me(3,Ze,()=>vt,()=>r),F(Re,Ze)};xe(ct,Re=>{u.state==="share"&&Re(je)},!0)}F(re,ce)};xe(R,re=>{u.state==="about"?re($):re(le,!1)},!0)}F(N,Q)};xe(y,N=>{u.state==="archive"?N(E):N(I,!1)})}F(t,b),ye()}const Ql="/ton-coeur-app/assets/star-Ddi935ja.png";function Jl(t,e){try{const r=`https://raw.githubusercontent.com/turbokirichenko/ton-coeur-app/refs/heads/main/app/public/snaps/${e.postcardInfo.grade}.png`,i=`?startapp=${e.signature}`,n=`${zo}${Do}${i}`;_t.shareToStory(r,{widget_link:{name:"@toncur ",url:n}})}catch(r){console.error(r)}}var Xl=z('<!> <!> <div class="view-space__placeholder svelte-vunjs7"><button class="un-btn placeholder some-dark-container svelte-vunjs7"><img alt="star" width="48px" height="48px"> <div class="placeholder__text svelte-vunjs7"><p class="svelte-vunjs7"><strong class="strong svelte-vunjs7"> </strong> made <strong class="strong svelte-vunjs7"> </strong> clicks to give this gift. Share it in the <strong class="strong svelte-vunjs7">story</strong></p></div></button></div>',1),Zl=z('<section class="view-space no-select svelte-vunjs7"><!> <div class="view-space__content svelte-vunjs7"><div class="motion svelte-vunjs7"><!></div></div> <div class="view-space__foreground"></div></section>');function $l(t,e){me(e,!0);var r=ge([]),i={y:-200,duration:1e3},n=at(!1);function s(k={x:0,y:0,w:64,h:64}){r.push(k)}Yt(()=>{r.shift()}),setInterval(()=>{s(u())},1e3);function u(){return{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,w:64,h:64}}function p(k){te(n,!0),s({x:k.clientX,y:k.clientY,w:64,h:64})}function g(k){k.addEventListener("pointerdown",p)}var c=Zl(),h=A(c);{var m=k=>{var P=Xl(),T=lt(P);Yo(T,{listeners:g,get grade(){return e.postcardInfo.grade}});var v=V(T,2);Qo(v,{get hearts(){return r},flyParams:i});var y=V(v,2),E=A(y);E.__click=[Jl,e];var I=A(E);ue(I,"src",Ql);var N=V(I,2),Q=A(N),R=A(Q),$=A(R),le=V(R,2),re=A(le);se(()=>{de($,e.postcardInfo.from),de(re,e.postcardInfo.clicked)}),F(k,P)};xe(h,k=>{e.postcardInfo.grade>0&&e.postcardInfo.grade!==404&&k(m)})}var f=V(h,2),b=A(f),w=A(b);Ko(w,{viewMode:"view",get postcardInfo(){return e.postcardInfo}}),F(t,c),ye()}Mt(["click"]);const ec="/ton-coeur-app/button/play.png";function tc(t,e){e.clear()}var rc=z('<div class="avatar svelte-1sm9uxc"></div>'),nc=z('<img width="36px" height="36px" class="avatar svelte-1sm9uxc" alt="avatar">'),oc=z('<nav class="nav-panel svelte-1sm9uxc"><div class="nav-panel__buttons"><div class="count svelte-1sm9uxc"><button class="nav-img scaling svelte-1sm9uxc"><img width="18px" height="18px" class="a-img svelte-1sm9uxc" alt="share"></button> <span class="count-text">make your own</span></div></div> <div class="nav-panel__userinfo"><!></div></nav>');function ic(t,e){me(e,!0);let r=ge({src:null});try{r.src=_t.initDataUnsafe.user.photo_url}catch{r.src=null}var i=oc(),n=A(i),s=A(n),u=A(s);u.__click=[tc,e];var p=A(u);ue(p,"src",ec);var g=V(n,2),c=A(g);{var h=f=>{var b=rc();F(f,b)},m=f=>{var b=nc();se(()=>ue(b,"src",r.src)),F(f,b)};xe(c,f=>{r.src===null?f(h):f(m,!1)})}F(t,i),ye()}Mt(["click"]);var ac=z('<main class="view-page svelte-64v1u2"><!> <header class="view-page__header svelte-64v1u2"><!></header> <section class="view-page__content svelte-64v1u2"><!></section></main>'),sc=z("<div><h3>404</h3></div>");function lc(t,e){me(e,!0);var r=Ct(),i=lt(r);ns(i,()=>ke.validate(e.signature),null,(n,s)=>{var u=ac(),p=A(u);Jo(p,{get background(){return Ar[H(s).grade].background}});var g=V(p,2),c=A(g);ic(c,{get clear(){return e.clear}});var h=V(g,2),m=A(h);const f=Pe(()=>({...Ar[H(s).grade].postcard,fadeOpt:{duration:2e3},clicked:H(s).count,from:H(s).from,to:H(s).to,grade:H(s).grade}));$l(m,{get signature(){return e.signature},get postcardInfo(){return H(f)}}),F(n,u)},n=>{var s=sc();F(n,s)}),F(t,r),ye()}var cc=z('<main id="full-screen" class="main-page svelte-13pnyya"><!></main>');function uc(t,e){me(e,!0);var r=at(null),i=()=>{te(r,null)};function n(c){var h=new URLSearchParams(c);return h.get("startapp")??null}try{_t.enableClosingConfirmation(),te(r,ge(_t.initDataUnsafe.start_param||n(window.location.search)))}catch{te(r,ge(n(window.location.search)))}var s=cc(),u=A(s);{var p=c=>{lc(c,{get signature(){return pe(r)},clear:i})},g=c=>{Yl(c,{})};xe(u,c=>{pe(r)?c(p):c(g,!1)})}Me(1,s,()=>nn,()=>({duration:3e3})),F(t,s),ye()}function fc(){return es(uc,{target:document.getElementById("app")})}fc();
